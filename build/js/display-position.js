webpackJsonp([20],{17:function(t,e){},57:function(t,e,s){"use strict";function a(){var t={index:1,count:8};c.userId?(t.userId=c.userId,EventUtils.ajaxReq("/recruit/getList","get",t,function(t,e){t.data?(y.posList.totalpages=t.data.totalPage,y.posList.results=t.data.list,c.searchtext&&(h.keywords=decodeURI(c.searchtext),r(1))):(y.posList.totalpages=1,y.posList.results=[])}),EventUtils.ajaxReq("/center/user/getInfo","get",{userId:c.userId},function(t,e){d=t.data,f.userName=d.userName,f.isLogin=!0,f.userType=d.userType})):EventUtils.ajaxReq("/recruit/getList","get",t,function(t,e){t.data?(y.posList.totalpages=t.data.totalPage,y.posList.results=t.data.list,c.searchtext&&(h.keywords=decodeURI(c.searchtext),r(1))):(y.posList.totalpages=1,y.posList.results=[])})}function o(){(0,u.default)(".selectee input").each(function(){var t=(0,u.default)(this).width()+10+"px center";(0,u.default)(this).attr("readonly","readonly").css("background-position",t)}),(0,u.default)(".selectee ul").each(function(){var t=(0,u.default)(this).siblings("input");(0,u.default)(this).width(t.width()+30),(0,u.default)(this).css({left:t.css("margin-left"),top:t.height()})}),(0,u.default)(".popBox .selectee ul").css("top","25px"),(0,u.default)("body").bind("click",function(){(0,u.default)(".selectee ul").hide(),h.showPosBox=!1,h.showAreaBox=!1,h.showWelBox=!1})}function i(){(0,u.default)(".account li").hover(function(){(0,u.default)(this).find("dl").slideDown(300)},function(){(0,u.default)(this).find("dl").slideUp(200)}),(0,u.default)(".popBox").click(function(){return!1})}function r(t){y.resultType=0;var e="";switch(h.posQuery.publicTime){case"三天内":e=1;break;case"一周内":e=2;break;case"一月内":e=3}var s={index:t,count:8,title:h.keywords,userAddress:h.posQuery.address,type:""==h.posQuery.areas.area_1?"":h.posQuery.areas.area_1+";"+h.posQuery.areas.area_2,job:""==h.posQuery.pos.pos_2?"":h.posQuery.pos.pos_1+";"+h.posQuery.pos.pos_2,workType:h.posQuery.workstype,workTime:h.posQuery.worksexp,education:h.posQuery.scolar,salary:h.posQuery.salary,welfare:h.posQuery.welfare,timeType:e};d&&d.userId&&(s.userId=d.userId),s=EventUtils.filterReqdata(s),EventUtils.ajaxReq("/recruit/getList","get",s,function(t,e){t.data?(y.posList.totalpages=t.data.totalPage,y.posList.results=t.data.list,t.data.list.length<=1?(0,u.default)(".results").css("background","url('images/display-bg.png') no-repeat bottom center"):(0,u.default)(".results").css("background","none")):(y.posList.totalpages=1,y.posList.results=[],(0,u.default)(".results").css("background","url('images/display-bg.png') no-repeat bottom center"))})}var n=s(0),u=function(t){return t&&t.__esModule?t:{default:t}}(n);s(4),s(2);var l=s(1);s(6),s(8),s(9),s(11),s(10),s(12),s(14),s(13),s(3),s(5),s(7),s(17);var c=EventUtils.urlExtrac(window.location),d={},p=[];!function(){EventUtils.initDatabase();for(var t=0;t<posArray.length;t++)for(var e=0;e<posArray[t].subpos.length;e++)"不限"!=posArray[t].subpos[e].name&&p.push(posArray[t].subpos[e]);p.push({name:"不限",subpos:["不限"]})}();var f=new l({el:"#app-top",data:{isLogin:!1,userType:"0",userName:""},methods:{loginEv:function(){g.showModal=!0,g.showLogin=!0},regisEv:function(){var t=EventUtils.securityUrl("login.html?newAcc=1");window.open(t,"_blank")},publish:function(){switch(this.userType){case"1":var t="uniRequire.html?new=1";break;case"2":var t="incRequire.html?new=1"}d.userId&&(t+="&userId="+d.userId+"&loginId="+d.loginIdentifier),t=EventUtils.securityUrl(t),window.open(t,"_blank")},toCenter:function(t){switch(this.userType){case"0":var e="pCenter.html?theme="+t;break;case"1":var e="uniCenter.html?theme="+t;break;case"2":var e="incCenter.html?theme="+t}d.userId&&(e+="&userId="+d.userId+"&loginId="+d.loginIdentifier),e=EventUtils.securityUrl(e),window.open(e,"_blank")},logout:function(){this.isLogin=!1,g.login.account="",g.login.password="",d={};var t={index:1,count:8};EventUtils.ajaxReq("/recruit/getList","get",t,function(t,e){t.data?(y.posList.totalpages=t.data.totalPage,y.posList.results=t.data.list,c.searchtext&&(h.keywords=decodeURI(c.searchtext),r(1))):(y.posList.totalpages=1,y.posList.results=[])});var e={title:document.title,url:document.location.href,otherkey:null};history.replaceState(e,document.title,"display-position.html")}},watch:{isLogin:function(t){t?(y.accountId=d.userId,w.userId=d.userId):(y.accountId="",w.userId="")}}}),h=new l({el:"#app-query",data:{database:{uni:{majors:majorArray,majorAmount:xqdatabase.majorSum,props:xqdatabase.unilevel,scolars:xqdatabase.scolarship},inc:{IncScale:xqdatabase.incScale,IncProps:xqdatabase.incProps,posAmount:xqdatabase.positionsum,worksExp:xqdatabase.worksexp,workType:["全职","兼职","实习","校园","不限"],salary:xqdatabase.salary,welfare:xqdatabase.welfares},navcitys:[{province:"浙江省",city:"杭州",conts:["滨江区","淳安县","富阳市","拱墅区","江干区","建德市","临安市","上城区","桐庐县","西湖区","下城区","萧山区","余杭区","不限"]},{province:"上海市",city:"上海",conts:["宝山区","长宁区","奉贤区","虹口区","黄浦区","嘉定区","金山区","静安区","卢湾区","闵行区","南汇区","普陀区","浦东新区","青浦区","松江区","徐汇区","杨浦区","闸北区","不限"]},{province:"北京市",city:"北京",conts:["昌平区","朝阳区","崇文区","大兴区","东城区","房山区","丰台区","海淀区","怀柔区","门头沟区","平谷区","石景山区","顺义区","通州区","西城区","宣武区","不限"]},{province:"湖北省",city:"武汉",conts:["蔡甸区","东西湖区","汉阳区","汉南区","洪山区","黄陂区","江岸区","江汉区","江夏区","乔口区","青山区","武昌区","新洲区","不限"]},{province:"广东省",city:"广州",conts:["宝山区","长宁区","奉贤区","虹口区","黄浦区","嘉定区","金山区","静安区","卢湾区","闵行区","南汇区","普陀区","浦东新区","青浦区","松江区","徐汇区","杨浦区","闸北区","不限"]},{province:"广东省",city:"深圳",conts:["宝安区","福田区","龙岗区","罗湖区","南山区","盐田区","不限"]}],conts:["滨江区","淳安县","富阳市","拱墅区","江干区","建德市","临安市","上城区","桐庐县","西湖区","下城区","萧山区","余杭区","不限"]},keywords:"",posQuery:{areas:{area_1:"",area_2:""},pos:{pos_1:"",pos_2:""},worksexp:"",workstype:"",scolar:"",salary:"",welfare:"",address:"",major:"",publicTime:"",trainway:""},showPosBox:!1,showAreaBox:!1,showWelBox:!1},methods:{search:function(){r(1)},selCity:function(t,e){(0,u.default)(".address .on").removeClass("on"),(0,u.default)(".queryform .district .on").removeClass("on"),(0,u.default)(e).addClass("on"),this.database.conts=this.database.navcitys[t].conts},selDistict:function(t){(0,u.default)(".queryform .district .on").removeClass("on"),(0,u.default)(t).addClass("on");for(var e="",s=0;s<this.database.navcitys.length;s++)if((0,u.default)(".address .on").text()==this.database.navcitys[s].city){e="北京"==(0,u.default)(".address .on").text()||"上海"==(0,u.default)(".address .on").text()?this.database.navcitys[s].province+";"+this.database.navcitys[s].city+"辖区":this.database.navcitys[s].province+";"+this.database.navcitys[s].city+"市";break}e+=";"+(0,u.default)(".queryform .district .on").text(),this.posQuery.address=e,r(1)},selAllDistrict:function(){(0,u.default)(".queryform .district .on").removeClass("on"),this.posQuery.address="",r(1)},selMajor:function(t,e){this.posQuery.major=t+";"+e,r(1)},selPos:function(t,e){"pos"==e&&(this.posQuery.pos.pos_2="不限"!=t?t:this.posQuery.pos.pos_1),this.showPosBox=!1},selArea:function(t,e){"pos"==e&&(this.posQuery.areas.area_2="不限"!=t?t:this.posQuery.areas.area_1),this.showAreaBox=!1},clickPos:function(){(0,u.default)(".selectee ul").hide(),this.showAreaBox=!1,this.showWelBox=!1,this.showPosBox=!0},clickArea:function(){this.showAreaBox=!0,this.showWelBox=!1,this.showPosBox=!1,(0,u.default)(".selectee ul").hide()},clickWel:function(){this.showAreaBox=!1,this.showWelBox=!0,this.showPosBox=!1,(0,u.default)(".selectee ul").hide()},checkEv:function(t){(0,u.default)(t).hasClass("on")?((0,u.default)(t).removeClass("on"),(0,u.default)(t).parent("li").removeClass("on")):((0,u.default)(t).addClass("on"),(0,u.default)(t).parent("li").addClass("on"))},submitWel:function(){var t="";(0,u.default)(".welfare-lis li").each(function(){(0,u.default)(this).hasClass("on")&&(t+=(0,u.default)(this).text()+",")}),t.indexOf("不限")>-1?t="不限":t.length>0&&(t=t.slice(-1)),this.posQuery.welfare=t,this.showWelBox=!1},homeLink:function(){var t=f.isLogin?"index.html?userId="+d.userId:"index.html";window.location.href=EventUtils.securityUrl(t)}},mounted:function(){for(var t=[],e=[],s=0;s<p.length;s++)t.push(p[s].name);this.database.inc.pos1=t,this.database.inc.pos2=p[0].subpos;for(var a=0;a<workareas.length;a++)e.push(workareas[a].title);this.database.inc.area1=e,this.database.inc.area2=workareas[0].subareas},watch:{"posQuery.pos.pos_1":function(t){for(var e=0;e<p.length;e++)if(p[e].name==t){this.database.inc.pos2=p[e].subpos;break}"不限"==t&&r(1)},"posQuery.pos.pos_2":function(t){""==this.posQuery.pos.pos_1&&(this.posQuery.pos.pos_1=p[0].name),r(1)},"posQuery.areas.area_1":function(t){for(var e=0;e<workareas.length;e++)if(workareas[e].title==t){this.database.inc.area2=workareas[e].subareas;break}"不限"==t&&r(1)},"posQuery.areas.area_2":function(t){""==this.posQuery.areas.area_1&&(this.posQuery.areas.area_1=workareas[0].title),r(1)},"posQuery.workstype":function(t){r(1)},"posQuery.worksexp":function(t){r(1)},"posQuery.scolar":function(t){r(1)},"posQuery.salary":function(t){r(1)},"posQuery.welfare":function(t){r(1)},"posQuery.publicTime":function(t){r(1)},showPosBox:function(t){if(t){var e=(0,u.default)(".pos-input").offset().top-(0,u.default)(".queryform").offset().top+30;(0,u.default)(".pos-box").css("top",e)}},showAreaBox:function(t){if(t){var e=(0,u.default)(".area-input").offset().top-(0,u.default)(".queryform").offset().top+30;(0,u.default)(".area-box").css("top",e)}}}}),y=new l({el:"#app-result",data:{posList:{totalpages:1,results:[]},accountId:"",resultType:0},methods:{infoExtrac:function(t){return t?EventUtils.infoExtrac(t):""},infoShow:function(t,e){return EventUtils.infoShow(t,e)},cityExtrac:function(t){return t?t.split(";")[1]:""},positionLink:function(t){var e="detail-position.html?recruitId="+t+(this.accountId?"&userId="+this.accountId:"");return e=EventUtils.securityUrl(e)},coApply:function(t,e){if(f.isLogin){if("0"!=d.userType)return swal({title:"",text:"抱歉，您不能投递该职位！",type:"warning"}),!1;var s={userId:d.userId,recruitId:t};EventUtils.ajaxReq("/recruit/cooperateRecruit","post",s,function(t,s){"0"==t.data.isApply?(g.showModal=!0,g.showLogin=!1,g.showSucc=!0,e.applyStatus=1):swal({title:"",text:t.info,type:"error"})})}else g.showModal=!0,g.showLogin=!0,g.showSucc=!1},showpage:function(t){return t<5?t:5},topage:function(t,e){r(t)}},components:{pagination:pagination}}),w=new l({el:"#app-footer",data:{userId:c.userId}}),g=new l({el:"#app-modal",data:{showModal:!1,showSucc:!1,showLogin:!1,login:{account:"",password:""}},methods:{securityUrl:function(t){return EventUtils.securityUrl(t)},confirmSuc:function(){this.showSucc=!1,this.showModal=!1},closeSuc:function(){this.showSucc=!1,this.showModal=!1},closeLog:function(){this.showLogin=!1,this.showModal=!1},loginEv:function(t){var e={loginName:t.account,password:t.password};EventUtils.ajaxReq("/center/user/login","post",e,function(t,e){if(d=t.data){var s={userId:d.userId,index:1,count:8};EventUtils.ajaxReq("/recruit/getList","get",s,function(t,e){t.data?(y.posList.totalpages=t.data.totalPage,y.posList.results=t.data.list):(y.posList.totalpages=1,y.posList.results=[])}),f.userType=t.data.userType,f.userName=t.data.name,f.isLogin=!0,g.showModal=!1,g.showLogin=!1;var a={title:document.title,url:document.location.href,otherkey:null};history.replaceState(a,document.title,EventUtils.securityUrl("display-position.html?userId="+t.data.userId))}})}},watch:{showLogin:function(t){t&&this.$nextTick(function(){EventUtils.absCenter((0,u.default)(".dlg-login"))})},showSucc:function(t){t&&this.$nextTick(function(){EventUtils.absCenter((0,u.default)(".dlg-success"))})}}});!function(){a(),o(),i()}(),window.onunload=function(){f.$off(),h.$off(),y.$off(),w.$off(),g.$off()}}},[57]);