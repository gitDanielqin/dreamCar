webpackJsonp([2],{20:function(e,t,s){"use strict";(function(e){var t=s(1);!function(){function s(){e(".pop-major-1:visible").each(function(){this.initFlag||(e(this).css({left:0,top:e(this).siblings(".major-input-1").height()-2+"px"}),this.initFlag=!0)}),e(".pop-major-2:visible").each(function(){this.initFlag||(e(this).css({left:e(this).siblings(".major-input-2").offset().left-e(this).parent(".pop-major-box").offset().left+"px",top:e(this).siblings(".major-input-2").height()-2+"px"}),this.initFlag=!0)})}function i(){e(".pop-major-box .major-input input").each(function(){if(!this.initFlag){e(this).width(e(this).width()-20),e(this).css("padding-right","20px");var t=e(this).width()+10+"px center";e(this).css("background-position",t),this.initFlag=!0}})}t.component("major-pop",{template:'<div style="position:relative" class="pop-major-box">          <span @click.stop="pop(1,$event.target)" class="major-input major-input-1"><span class="input-frame"></span><input type="text" placeholder="一级专业" readonly v-model="selMajor" ></span>          <span @click.stop="pop(2,$event.target)" class="major-input major-input-2"><span class="input-frame"></span><input type="text" placeholder="二级专业" readonly v-model="selSubMajor"></span>          <input type="text" class="ex-major" placeholder="请输入专业名称" v-model="exMajor" v-show="showExMajor"/>          <div class="pop-major-1 pop-major" v-show="showMajor1">               <h3 class="pop-major-title">专业名称<i class="pic-wrapper major-closer" @click=closePop><span class="pic-icon icon-close"></span></i></h3>               <div class="major-table-box pop-box">                    <table>                         <tr v-for="tr in major.trs">                              <td @click="clickMajor($event.target)">{{major.dataArray[tr*4]}}</td>                              <td @click="clickMajor($event.target)">{{major.dataArray[tr*4+1]}}</td>                              <td @click="clickMajor($event.target)">{{major.dataArray[tr*4+2]}}</td>                              <td @click="clickMajor($event.target)">{{major.dataArray[tr*4+3]}}</td>                         </tr>                    </table>               </div>          </div>          <div class="pop-major-2 pop-major" v-show="showMajor2">               <h3 class="pop-major-title">专业名称<i class="pic-wrapper major-closer" @click=closePop><span class="pic-icon icon-close"></span></i></h3>               <div class="major-table-box pop-box">                    <table>                         <tr v-for="tr in submajor.trs">                              <td @click="clickSubMajor($event.target)">{{submajor.dataArray[tr*3]}}</td>                              <td @click="clickSubMajor($event.target)">{{submajor.dataArray[tr*3+1]}}</td>                              <td @click="clickSubMajor($event.target)">{{submajor.dataArray[tr*3+2]}}</td>                         </tr>                    </table>               </div>          </div>     </div>',props:["majordata","initmajors"],data:function(){for(var e={trs:[],dataArray:[]},t={trs:[],dataArray:[]},s=0;s<this.majordata.length;s++)e.dataArray.push(this.majordata[s].major),s%4==0&&e.trs.push(Math.floor(s/4));t.dataArray=this.majordata[0].submajor;for(var i=0;i<t.dataArray.length;i++)i%3==0&&t.trs.push(Math.floor(i/3));return{showMajor1:!1,showMajor2:!1,showExMajor:!1,major:e,submajor:t,selMajor:"",selSubMajor:"",exMajor:""}},methods:{pop:function(t,i){e(".pop-major").hide(),e(i).parent().siblings(".pop-major-"+t).show(),s()},clickMajor:function(t){this.selMajor=e(t).html(),e(".pop-major").hide()},clickSubMajor:function(t){this.selSubMajor=e(t).html(),e(".pop-major").hide()},closePop:function(){e(".pop-major").hide()}},mounted:function(){i(),this.initmajors&&(this.selMajor=this.initmajors.major)},watch:{initmajors:function(e){e&&e.major&&(this.selMajor=e.major)},selMajor:function(e){for(var t=0;t<this.majordata.length;t++)if(this.majordata[t].major==e){this.submajor.dataArray=this.majordata[t].submajor,this.selSubMajor=this.submajor.dataArray[0],this.submajor.trs=[];for(var s=0;s<this.submajor.dataArray.length;s++)s%3==0&&this.submajor.trs.push(Math.floor(s/3));break}},selSubMajor:function(e){this.showExMajor="其他"==e}}})}()}).call(t,s(0))},21:function(e,t,s){"use strict";(function(i){var a,o,n;!function(i){o=[s(0)],a=i,void 0!==(n="function"==typeof a?a.apply(t,o):a)&&(e.exports=n)}(function(e){var t=function(t,s){var s=s||e(t.imageBox),i={state:{},ratio:1,options:t,imageBox:s,thumbBox:s.find(t.thumbBox),spinner:s.find(t.spinner),image:new Image,getDataURL:function(){var e=this.thumbBox.width(),t=this.thumbBox.height(),i=document.createElement("canvas"),a=s.css("background-position").split(" "),o=s.css("background-size").split(" "),n=parseInt(a[0])-s.width()/2+e/2,r=parseInt(a[1])-s.height()/2+t/2,l=parseInt(o[0]),d=parseInt(o[1]),c=parseInt(this.image.height),u=parseInt(this.image.width);return i.width=e,i.height=t,i.getContext("2d").drawImage(this.image,0,0,u,c,n,r,l,d),i.toDataURL("image/png")},getBlob:function(){for(var e=this.getDataURL(),t=e.replace("data:image/png;base64,",""),s=atob(t),i=[],a=0;a<s.length;a++)i.push(s.charCodeAt(a));return new Blob([new Uint8Array(i)],{type:"image/png"})},zoomIn:function(){this.ratio*=1.1,a()},zoomOut:function(){this.ratio*=.9,a()}},a=function(){var e=parseInt(i.image.width)*i.ratio,t=parseInt(i.image.height)*i.ratio,a=(s.width()-e)/2,o=(s.height()-t)/2;s.css({"background-image":"url("+i.image.src+")","background-size":e+"px "+t+"px","background-position":a+"px "+o+"px","background-repeat":"no-repeat"})},o=function(e){e.stopImmediatePropagation(),i.state.dragable=!0,i.state.mouseX=e.clientX,i.state.mouseY=e.clientY},n=function(e){if(e.stopImmediatePropagation(),i.state.dragable){var t=e.clientX-i.state.mouseX,a=e.clientY-i.state.mouseY,o=s.css("background-position").split(" "),n=t+parseInt(o[0]),r=a+parseInt(o[1]);s.css("background-position",n+"px "+r+"px"),i.state.mouseX=e.clientX,i.state.mouseY=e.clientY}},r=function(e){e.stopImmediatePropagation(),i.state.dragable=!1},l=function(e){return e.originalEvent.wheelDelta>0||e.originalEvent.detail<0?i.ratio*=1.1:i.ratio*=.9,a(),!1};return i.spinner.show(),i.image.onload=function(){i.spinner.hide(),a(),s.bind("mousedown",o),s.bind("mousemove",n),e(window).bind("mouseup",r),s.bind("mousewheel DOMMouseScroll",l)},i.image.src=t.imgSrc,s.on("remove",function(){e(window).unbind("mouseup",r)}),i};i.fn.cropbox=function(e){return new t(e,this)}})}).call(t,s(0))},22:function(e,t,s){"use strict";(function(e){var t=s(1);!function(){t.component("bind-email-box",{template:'<div class="bind-change email-bind">        <h2 class="bind-title">更换绑定邮箱<i class="pic-wrapper close" @click.stop="closeBox"><i class="pic-icon icon-close"></i></i>        </h2>        <div class="bind-form">            <h3 class="bind-form-title">请输入新的邮箱，完成邮箱绑定</h3>            <p><input type="text" placeholder="请输入邮箱" v-model="email" class="input-email"></p>            <p><input type="text" placeholder="请输入验证码" v-model="validcode" class="input-code"><button @click.stop="codeRequest($event.target)"  class="code-request">获取验证码</button></p>            <p><input type="password" placeholder="请输入登录密码" v-model="password" class="input-password"></p>            <div class="btn-submit"><button @click.stop="bindConfirm">完成绑定</button><button @click.stop="closeBox">返回</button></div>        </div>    </div>',props:["userid"],data:function(){return{email:"",validcode:"",password:""}},methods:{codeRequest:function(t){if(""==this.email)return swal({title:"",text:"邮箱不能为空！",type:"warning"}),!1;if(!variableUtils.regExp.email.test(this.email))return swal({title:"",text:"请输入合法的邮箱地址！",type:"warning"}),!1;e(t).attr("disabled",!0);var s=0,i=setInterval(function(){s++,e(t).html("重新获取 ("+(60-s)+"s)"),60==s&&(e(t).html("获取验证码"),e(t).attr("disabled",!1),clearInterval(i))},1e3),a={email:this.email,type:2};EventUtils.ajaxReq("/sys/emailCode","post",a,function(e,t){swal({title:"",text:e.info,type:"warning"})})},bindConfirm:function(){if(""==this.email||""==this.password||""==this.code)return swal({title:"",text:"请检查信息是否完整！",type:"warning"}),!1;if(!variableUtils.regExp.email.test(this.email))return swal({title:"",text:"请输入正确的邮箱地址！",type:"warning"}),!1;var e={userId:this.userid,code:this.validcode,password:this.password,conection:this.email,type:1},t=this;EventUtils.ajaxReq("/sys/modifyConection?","post",e,function(e,s){"00000"==e.code?(swal({title:"",text:e.info,type:"success",timer:1500,showConfirmButton:!1}),t.email="",t.validcode="",t.password="",t.$emit("closebox")):swal({title:"",text:e.info,type:"warning"})})},closeBox:function(){this.$emit("closebox")}}})}()}).call(t,s(0))},23:function(e,t,s){"use strict";(function(e){var t=s(1);!function(){t.component("bind-mobile-box",{template:'<div class="bind-change mobile-bind">        <h2 class="bind-title">更换手机号<i class="pic-wrapper close" @click.stop="closeMobile"><i class="pic-icon icon-close"></i></i>        </h2>        <div class="bind-form">            <h3 class="bind-form-title">请输入新的手机号，完成手机号绑定</h3>            <p><input type="text" placeholder="请输入手机号" v-model="mobile" class="input-mobile"></p>            <p><input type="text" placeholder="请输入短信认证码" v-model="validcode" class="input-code"><button @click.stop="codeRequest($event.target)"  class="code-request">获取验证码</button></p>            <p><input type="password" placeholder="请输入登录密码" v-model="password" class="input-password"></p>            <div class="btn-submit"><button @click.stop="bindConfirm">完成绑定</button><button @click.stop="closeMobile">返回</button></div>        </div>    </div>',props:["userid"],data:function(){return{mobile:"",validcode:"",password:""}},methods:{codeRequest:function(t){if(""==this.mobile)return swal({title:"",text:"手机号不能为空！",type:"warning"}),!1;if(!variableUtils.regExp.mobile.test(this.mobile))return swal({title:"",text:"请输入合法的手机号！",type:"warning"}),!1;e(t).attr("disabled",!0);var s=0,i=setInterval(function(){s++,e(t).html("重新获取 ("+(60-s)+"s)"),60==s&&(e(t).html("获取验证码"),e(t).attr("disabled",!1),clearInterval(i))},1e3),a={mobile:this.mobile,type:2};EventUtils.ajaxReq("/sys/mobileCode","post",a,function(e,t){swal({title:"",text:e.info,type:"warning"})})},bindConfirm:function(){if(""==this.mobile||""==this.password||""==this.code)return swal({title:"",text:"请检查信息是否完整！",type:"warning"}),!1;if(!variableUtils.regExp.mobile.test(this.mobile))return swal({title:"",text:"请输入正确的手机号！",type:"warning"}),!1;var e={userId:this.userid,code:this.validcode,password:this.password,conection:this.mobile,type:0},t=this;EventUtils.ajaxReq("/sys/modifyConection?","post",e,function(e,s){"00000"==e.code?(swal({title:"",text:e.info,type:"success",timer:2e3,showConfirmButton:!1}),t.mobile="",t.password="",t.validcode="",t.$emit("closebox")):swal({title:"",text:e.info,type:"warning"})})},closeMobile:function(){this.$emit("closebox")}}})}()}).call(t,s(0))},24:function(e,t,s){"use strict";(function(e){var t=s(1);!function(){function s(){e.ajax({url:"https://www.xiaoqiztc.com/easily_xq_WebApi/sys/img",type:"get",async:!1,data:{},success:function(t,s){e(".conf-psw-varifycode img")[0].src="https://www.xiaoqiztc.com/easily_xq_WebApi/sys/img?"+Math.random()},error:function(e,t){swal({title:"",text:"请求服务器数据错误，请稍后重试！",type:"warning"})},timeout:1e5})}t.component("config-password",{template:'<div>                <h2 class="conf-psw-title">修改密码</h2>                <form class="conf-psw-form">                    <div><label>登陆账号</label><span>{{account.loginName}}</span></div>                    <div><label>当前密码</label><input type="password" placeholder="6-16字母、数字、无空格" v-model="oldpsw"/></div>                    <div><label>新密码</label><input type="password" placeholder="6-16字母、数字、无空格" v-model="newpsw"/></div>                    <div><label>确认密码</label><input type="password" placeholder="6-16字母、数字、无空格" v-model="dbpsw"/></div>                    <div><label>验证码</label><input type="text" v-model="validcode"/><i class="conf-psw-varifycode"><img src="https://www.xiaoqiztc.com/easily_xq_WebApi/sys/img" /><span class="conf-psw-codetext" @click="switchCode">看不清？换一张</span></i></div>                    <div class="conf-psw-confirm"><button type="button" @click="confirm">确认修改</button></div>                </form>        </div>',props:["account","usertype"],data:function(){return{oldpsw:"",newpsw:"",dbpsw:"",validcode:""}},methods:{switchCode:s,confirm:function(){var t=!0;if(e(".conf-psw-form input").each(function(s){""==e(this).val()?(e(this).addClass("hint-nullable"),t=!1):e(this).removeClass("hint-nullable")}),!t)return swal({title:"",text:"请检查信息是否完整！",type:"warning"}),s(),!1;if(!variableUtils.regExp.password.test(this.newpsw))return swal({title:"",text:"新密码格式不正确！",type:"warning"}),s(),!1;if(this.newpsw!=this.dbpsw)return swal({title:"",text:"两次密码输入不一致！",type:"warning"}),s(),!1;var i={userId:this.account.userId,oldPassword:this.oldpsw,password:this.newpsw,dbPassword:this.dbpsw,inputRandomCode:this.validcode,userType:this.usertype};EventUtils.ajaxReq("/center/user/modifyPassword","post",i,function(e,t){"00000"==e.code?swal({title:"",text:e.info,type:"success",timer:1500,showConfirmButton:!1}):swal({title:"",text:e.info,type:"error"})}),s(),this.oldpsw="",this.newpsw="",this.dbpsw="",this.validcode=""}}})}()}).call(t,s(0))},33:function(e,t,s){"use strict";var i=s(1);!function(){i.component("date-select",{template:'<div style="display:inline-block;">        <dropdown :options="startyears" class="sel-startyear" v-model="date.startyear" placeholder="开始年份"></dropdown>        <dropdown :options="startmonths" class="sel-startmonth" v-model="date.startmonth" placeholder="开始月份"></dropdown><i class="bind-line"></i>        <dropdown :options="database.endyears" class="sel-endyear" v-model="date.endyear" classes="endyear" placeholder="结束年份"></dropdown>        <dropdown :options="database.endmonths" class="sel-endmonth" v-model="date.endmonth" placeholder="结束月份"></dropdown>    </div>',props:["startyears","startmonths","initdate"],data:function(){return{database:{endyears:[],endmonths:[]},date:{startyear:"",startmonth:"",endyear:"",endmonth:""}}},watch:{"date.startyear":function(e){for(var t=[],s=parseInt(this.startyears[0]);s>=parseInt(e);s--)t.push(s);if(this.database.endyears=t,this.date.endyear<e&&(this.date.endyear=e),this.date.endyear!=e)this.database.endmonths=this.startmonths;else{for(var i=[],a=parseInt(this.date.startmonth);a<=12;a++)a<10&&(a="0"+a),i.push(a);this.database.endmonths=i,parseInt(this.date.endmonth)<parseInt(this.date.startmonth)&&(this.date.endmonth=this.date.startmonth)}},"date.endyear":function(e){if(this.date.startyear!=e)this.database.endmonths=this.startmonths;else{for(var t=[],s=parseInt(this.date.startmonth);s<=12;s++)s<10&&(s="0"+s),t.push(s);this.database.endmonths=t,parseInt(this.date.endmonth)<parseInt(this.date.startmonth)&&(this.date.endmonth=this.date.startmonth)}},"date.startmonth":function(e){if(this.date.startyear==this.date.endyear){for(var t=[],s=parseInt(e);s<=12;s++)s<10&&(s="0"+s),t.push(s);this.database.endmonths=t,parseInt(this.date.endmonth)<parseInt(this.date.startmonth)&&(this.date.endmonth=this.date.startmonth)}else this.database.endmonths=this.startmonths},initdate:function(e){e&&(this.date.startyear=e.startyear,this.date.startmonth=e.startmonth,this.date.endyear=e.endyear,this.date.endmonth=e.endmonth)}},mounted:function(){this.database.endyears=this.startyears,this.database.endmonths=this.startmonths,this.initdate&&(this.date.startyear=this.initdate.startyear,this.date.startmonth=this.initdate.startmonth,this.date.endyear=this.initdate.endyear,this.date.endmonth=this.initdate.endmonth)}})}()},34:function(e,t,s){"use strict";(function(e){var t=s(1);!function(){t.component("pop-position",{template:'<div class="pos-pop-box W770">          <h3 class="LH-H36 bg-gray-e6 fSize14 paLeft30">选择职能<i class="pic-wrapper pos-closer fr maR30" @click.stop="cancel"><i class="pic-icon icon-close"></i></i></h3>          <div class="H330">               <div class="LH40 paLeft30">                    <label class="color-gray6">最多可以选择<span class="color-orange">3</span>项</label>                    <ul class="lis-inline selectItems disInline v-mid maL15">                         <li v-for="item in selectedItems">{{item}}<img src="images/icon-close-1.png" @click.stop="delItem(item)"/></li>                    </ul>               </div>               <ul class="pos-navs lis-inline LH28 paLeft30 maT8">                    <li class="on" @click.stop="clickNav(1)">全部职能<span class="pic-icon icon-arrow-down"></span><i class="blank-bot"></i></li>                    <li v-show="posCont.cont2||posCont.cont3" @click.stop="clickNav(2)">{{selpos.pos1}}<span class="pic-icon icon-arrow-down"></span><i class="blank-bot"></i></li>                    <li v-show="posCont.cont3">{{selpos.pos2}}<span class="pic-icon icon-arrow-down"></span><i class="blank-bot"></i></li>               </ul>               <ul class="pos-nav-cont lis-inline" v-show="posCont.cont1">                    <li v-for="item in posArray1"><span @click.stop="clickPos(1,item)">{{item}}</span></li>               </ul>               <ul class="pos-nav-cont lis-inline" v-show="posCont.cont2">                    <li v-for="item in posArray2"><span @click.stop="clickPos(2,item)">{{item}}</span></li>               </ul>               <ul class="pos-nav-cont lis-inline" v-show="posCont.cont3">                    <li v-for="item in posArray3"><span @click.stop="clickPos(3,item)">{{item}}</span></li>               </ul>          </div>          <div class="LH-H58 pos-pop-bot bg-gray-e6 t-center">               <button @click.stop="confirm">确定</button><button @click.stop="cancel">取消</button>          </div>     </div>',props:["posdata"],data:function(){for(var e=[],t=0;t<this.posdata.length;t++)e.push(this.posdata[t].name);return{posCont:{cont1:!0,cont2:!1,cont3:!1},selpos:{pos1:"",pos2:"",pos3:""},posArray1:e,posArray2:[],posArray3:[],subArray:[],selectedItems:[]}},methods:{clickPos:function(t,s){if(1==t){if("不限"==s)return void(this.selectedItems.length<3&&(this.selectedItems=["全部职能"]));for(var i=0;i<this.posdata.length;i++)if(this.posdata[i].name==s){this.subArray=this.posdata[i].subpos;break}this.posArray2=[];for(var a=0;a<this.subArray.length;a++)this.posArray2.push(this.subArray[a].name);this.selpos.pos1=s,this.posCont.cont1=!1,this.posCont.cont2=!0,e(".pos-navs .on").removeClass("on"),e(".pos-navs li:nth-child(2)").addClass("on")}else if(2==t){if("不限"==s)return void(this.selectedItems.length<3&&this.selectedItems.indexOf(this.selpos.pos1)<0&&this.selectedItems.push(this.selpos.pos1));for(var i=0;i<this.subArray.length;i++)if(this.subArray[i].name==s){this.posArray3=this.subArray[i].subpos;break}e(".pos-navs .on").removeClass("on"),e(".pos-navs li:nth-child(3)").addClass("on"),this.selpos.pos2=s,this.posCont.cont2=!1,this.posCont.cont3=!0}else 3==t&&this.selectedItems.length<3&&("不限"==s?this.selectedItems.indexOf(this.selpos.pos2)<0&&this.selectedItems.push(this.selpos.pos2):this.selectedItems.indexOf(s)<0&&this.selectedItems.push(s))},delItem:function(e){this.selectedItems.remove(e)},clickNav:function(t){1==t?(e(".pos-navs .on").removeClass("on"),e(".pos-navs li:nth-child(1)").addClass("on"),this.posCont.cont2=!1,this.posCont.cont3=!1,this.posCont.cont1=!0):2==t&&(e(".pos-navs .on").removeClass("on"),e(".pos-navs li:nth-child(2)").addClass("on"),this.posCont.cont1=!1,this.posCont.cont3=!1,this.posCont.cont2=!0)},confirm:function(){this.$emit("confirm",this.selectedItems)},cancel:function(){this.$emit("cancel")}}})}()}).call(t,s(0))},42:function(e,t){},71:function(e,t,s){"use strict";function i(){var e={userId:v.userId||localStorage.userId,loginIdentifier:v.loginId||localStorage.loginId};EventUtils.ajaxReq("/user/user/getInfo","get",e,function(e,t){w=e.data;var s={name:w.userInfo.realName,gender:"1"==w.userInfo.sex?"男":"女",birthyear:w.userInfo.birthday?w.userInfo.birthday.split("-")[0]:"",birthmonth:w.userInfo.birthday?w.userInfo.birthday.split("-")[1]:"",birthday:w.userInfo.birthday?w.userInfo.birthday.split("-")[2]:"",address:{province:w.userInfo.province,city:w.userInfo.city,district:w.userInfo.area},phone:w.userInfo.mobile,state:w.userInfo.liveStatus};if(j.baseInfo=b.briefInfo=s,w.userInfo.cvStatus&&"0"!=w.userInfo.cvStatus){I.resume.firstEdit=!1,w.userInfo.userIcon&&((0,h.default)("#avatar-box").html("<img src='"+w.userInfo.userIcon+"' />"),(0,h.default)(".porto-img").html("<img src='"+w.userInfo.userIcon+"' />"));var i="";switch(w.userInfo.marryStatus){case"0":i="未婚";break;case"1":i="已婚";break;case"2":i="离异"}for(var a=[],o=0;o<w.companyList.length;o++){var n={startyear:w.companyList[o].startTime?w.companyList[o].startTime.split("-")[0]:"",startmonth:w.companyList[o].startTime?w.companyList[o].startTime.split("-")[1]:"",endyear:w.companyList[o].endTime?w.companyList[o].endTime.split("-")[0]:"",endmonth:w.companyList[o].endTime?w.companyList[o].endTime.split("-")[1]:""},r={show:0==o,cvCpyId:w.companyList[o].cvCpyId,firma:w.companyList[o].companyName,trade:w.companyList[o].companyType,pos:w.companyList[o].position,province:w.companyList[o].workAddress?w.companyList[o].workAddress.split(";")[0]:"",city:w.companyList[o].workAddress?w.companyList[o].workAddress.split(";")[1]:"",district:w.companyList[o].workAddress?w.companyList[o].workAddress.split(";")[2]:"",salary:w.companyList[o].salary,initdate:n,resp:w.companyList[o].content};a.push(r)}if(0==a.length){var l={show:!0,firma:"",trade:"",pos:"",province:"",city:"",district:"",salary:"",startyear:"",startmonth:"",endyear:"",endmonth:"",resp:""};a.push(l)}for(var d=[],c=0;c<w.eduList.length;c++){var n={startyear:w.eduList[c].startTime?w.eduList[c].startTime.split("-")[0]:"",startmonth:w.eduList[c].startTime?w.eduList[c].startTime.split("-")[1]:"",endyear:w.eduList[c].endTime?w.eduList[c].endTime.split("-")[0]:"",endmonth:w.eduList[c].endTime?w.eduList[c].endTime.split("-")[1]:""},u={show:0==c,cvEduId:w.eduList[c].cvEduId,uni:w.eduList[c].schoolName,major:w.eduList[c].professional?w.eduList[c].professional.split(";")[0]:"",submajor:w.eduList[c].professional?w.eduList[c].professional.split(";")[1]:"",exmajor:w.eduList[c].professional?w.eduList[c].professional.split(";")[2]:"",initdate:n,qualification:w.eduList[c].qualification};d.push(u)}if(0==d.length){var m={show:!0,uni:"",major:"",submajor:"",exmajor:"",startyear:"",startmonth:"",endyear:"",endmonth:"",qualification:""};d.push(m)}for(var f=[],v=0;v<w.projectList.length;v++){var n={startyear:w.projectList[v].startTime?w.projectList[v].startTime.split("-")[0]:"",startmonth:w.projectList[v].startTime?w.projectList[v].startTime.split("-")[1]:"",endyear:w.projectList[v].endTime?w.projectList[v].endTime.split("-")[0]:"",endmonth:w.projectList[v].endTime?w.projectList[v].endTime.split("-")[1]:""},y={show:0==v,cvProId:w.projectList[v].cvProId,name:w.projectList[v].projectName,firma:w.projectList[v].companyName,initdate:n,desc:w.projectList[v].description,resp:w.projectList[v].position,achiev:w.projectList[v].achievement};f.push(y)}if(0==f.length){var g={show:!0,name:"",firma:"",startyear:"",startmonth:"",endyear:"",endmonth:"",desc:"",resp:"",achiev:""};f.push(g)}var x={firstEdit:!1,realName:w.userInfo.realName,family:i,phone:w.userInfo.mobile,email:w.userInfo.email,nativePlace:w.userInfo.nativePlace,nation:w.userInfo.nation,curWorksIndex:1,expect:{tradeItems:w.cvInfo.expJob,posItems:w.cvInfo.expJobFunction,province:w.cvInfo.expPlace?w.cvInfo.expPlace.split(";")[0]:"",city:w.cvInfo.expPlace?w.cvInfo.expPlace.split(";")[1]:"",district:w.cvInfo.expPlace?w.cvInfo.expPlace.split(";")[2]:"",salary:w.cvInfo.expSalary},worksExps:a,edus:d,projects:f,laSkills:w.cvInfo.languages,selfEval:w.cvInfo.evaluation,psInfo:w.cvInfo.anymore,skills:w.cvInfo.speciality};p(x),j.resumeInfo=I.resume=x,(0,h.default)(".edit").hide(),(0,h.default)(".view").show()}else I.resume.firstEdit=!0,(0,h.default)(".view").hide(),(0,h.default)(".edit").show()}),EventUtils.ajaxReq("/center/user/getInfo","get",{userId:v.userId},function(e,t){var s=0;""!=e.data.mobile&&(s+=50),""!=e.data.email&&(s+=30),n(s);var i={loginName:e.data.loginName,safeLevel:s+"%",userId:v.userId,bind:{mobile:e.data.mobile,email:e.data.email}};I.config=i})}function a(){var e={thumbBox:".thumbBox",spinner:".spinner",imgSrc:"images/avatar.png"},t=(0,h.default)(".imgBox").cropbox(e);(0,h.default)("#upload-file").on("change",function(){var s=new FileReader;s.onload=function(s){e.imgSrc=s.target.result,t=(0,h.default)(".imgBox").cropbox(e)},s.readAsDataURL(this.files[0]),this.files=null}),(0,h.default)(".zoom-in").on("click",function(){t.zoomIn()}),(0,h.default)(".zoom-out").on("click",function(){t.zoomOut()}),(0,h.default)("#btnSubmit").on("click",function(){var e=t.getDataURL();if(e.length>512e3)return void swal({title:"",text:"请上传小于500K的头像！",type:"warning"});var s={userId:v.userId,userIcon:e};EventUtils.ajaxReq("/center/user/uploadIcon","post",s,function(e,t){e.data+="?"+Math.random(),(0,h.default)("#avatar-box").html("<img src='"+e.data+"' />"),(0,h.default)(".porto-img").html("<img src='"+e.data+"' />")}),j.show.upload=!1,j.showModal=!1})}function o(){var e=EventUtils.cloneObj(I.resume);(0,h.default)(".resumeBox .btn-edit").click(function(){var t=(0,h.default)(this).closest(".view-item").attr("name");switch(t){case"work":for(var s=0;s<I.resume.worksExps.length;s++)I.resume.worksExps[s].show=!1;I.resume.worksExps[0].show=!0;case"edu":for(var s=0;s<I.resume.edus.length;s++)I.resume.edus[s].show=!1;I.resume.edus[0].show=!0;case"project":for(var s=0;s<I.resume.projects.length;s++)I.resume.projects[s].show=!1;I.resume.projects[0].show=!0}(0,h.default)(this).closest(".view-item").hide(),(0,h.default)(".resumeBox .edit-item[name="+t+"]").show(),selectInitPos(),e=EventUtils.cloneObj(I.resume)}),(0,h.default)(".resumeBox .edit-item .buttons button:nth-of-type(1)").click(function(){var e=(0,h.default)(this).closest(".edit-item"),t=e.attr("name"),s={},i=!0;if("basic"==t){if((0,h.default)(".edit-must[name='basic'] input:visible").each(function(e){""==this.value?((0,h.default)(this).addClass("hint-nullable"),i=!1):(0,h.default)(this).removeClass("hint-nullable")}),!i)return swal({title:"",text:"请完成所有必填信息！",type:"warning"}),!1;if(!variableUtils.regExp.mobile.test(I.resume.phone))return(0,h.default)("#cv-mobile").addClass("hint-nullable"),swal({title:"",text:"请检查手机格式是否正确！",type:"warning"}),!1;if((0,h.default)("#cv-mobile").removeClass("hint-nullable"),!variableUtils.regExp.email.test(I.resume.email))return(0,h.default)("#cv-email").addClass("hint-nullable"),swal({title:"",text:"请检查邮箱格式是否正确！",type:"warning"}),!1;(0,h.default)("#cv-email").removeClass("hint-nullable")}switch(t){case"edu":if((0,h.default)(".edit-must[name='edu'] input:visible").each(function(e){""==this.value&&((0,h.default)(this).addClass("hint-nullable"),i=!1)}),!i)return swal({title:"",text:"请完成所有必填信息！",type:"warning"}),!1;l(t);break;case"speech":var a=[];(0,h.default)(".language-skills input[type='checkbox']").each(function(){this.checked&&a.push(this.value)}),I.resume.laSkills=a,a=JSON.stringify(a);var s={userId:v.userId,cvId:w.cvInfo.cvId,languages:a};EventUtils.ajaxReq("/user/user/modifyCvBaiscInfo","post",s,function(e,t){});break;case"selfeval":var s={userId:v.userId,cvId:w.cvInfo.cvId,evaluation:I.resume.selfEval};EventUtils.ajaxReq("/user/user/modifyCvBaiscInfo","post",s,function(e,t){});break;case"psinfo":var s={userId:v.userId,cvId:w.cvInfo.cvId,anymore:I.resume.psInfo};EventUtils.ajaxReq("/user/user/modifyCvBaiscInfo","post",s,function(e,t){});break;case"skill":var s={userId:v.userId,cvId:w.cvInfo.cvId,speciality:I.resume.skills};EventUtils.ajaxReq("/user/user/modifyCvBaiscInfo","post",s,function(e,t){});break;default:l(t)}e.hide(),(0,h.default)(".resumeBox .view-item[name="+t+"]").show(),p(I.resume)}),(0,h.default)(".resumeBox .edit-item .buttons button:nth-of-type(2)").click(function(){I.resume=EventUtils.cloneObj(e);var t=(0,h.default)(this).closest(".edit-item").attr("name");(0,h.default)(this).closest(".edit-item").hide(),(0,h.default)(".resumeBox .view-item[name="+t+"]").show()})}function n(e){var t=Math.floor((0,h.default)(".safe-range").width()*e/100)-16+"px";(0,h.default)(".r-pointer").css("left",t),(0,h.default)("#safe-progress").css("width",e+"%")}function r(e,t){switch(e){case"work":var s={userId:v.userId,cvArray:JSON.stringify([{cvCpyId:t,delFlg:"1"}])};EventUtils.ajaxReq("/user/user/modifyCvCo","post",s,function(e,t){});break;case"edu":var s={userId:v.userId,cvArray:JSON.stringify([{cvEduId:t,delFlg:"1"}])};EventUtils.ajaxReq("/user/user/modifyCvEdu","post",s,function(e,t){});break;case"project":var s={userId:v.userId,cvArray:JSON.stringify([{cvProId:t,delFlg:"1"}])};EventUtils.ajaxReq("/user/user/modifyCvPro","post",s,function(e,t){})}}function l(e,t){if("all"==e||"basic"==e){var s=0;"已婚"==I.resume.family?s=1:"离异"==I.resume.family&&(s=2);var i={userId:v.userId,id:w.userInfo.id,realName:I.resume.realName,marryStatus:s,mobile:I.resume.phone,email:I.resume.email,nativePlace:I.resume.nativePlace,nation:I.resume.nation,cvStatus:1};EventUtils.ajaxReq("/user/user/modifyInfo","post",i,function(e,t){})}if("all"==e||"trade"==e){I.resume.expect.province=(0,h.default)("#exp-address .sel-province input").val(),I.resume.expect.city=(0,h.default)("#exp-address .sel-city input").val(),I.resume.expect.district=(0,h.default)("#exp-address .sel-district input").val();var a=[];(0,h.default)(".language-skills input[type='checkbox']").each(function(){this.checked&&a.push(this.value)}),I.resume.laSkills=JSON.stringify(a);var o={userId:v.userId,cvId:w.cvInfo.cvId,expJob:I.resume.expect.tradeItems,expJobFunction:I.resume.expect.posItems,expPlace:I.resume.expect.province+";"+I.resume.expect.city+";"+I.resume.expect.district,expSalary:I.resume.expect.salary,evaluation:I.resume.selfEval,anymore:I.resume.psInfo,speciality:I.resume.skills,languages:I.resume.laSkills};EventUtils.ajaxReq("/user/user/modifyCvBaiscInfo","post",o,function(e,t){})}if("all"==e||"work"==e){for(var n=(0,h.default)(".work-address"),r=0;r<I.resume.worksExps.length;r++)I.resume.worksExps[r].province=n.eq(r).find(".sel-province input").val(),I.resume.worksExps[r].city=n.eq(r).find(".sel-city input").val(),I.resume.worksExps[r].district=n.eq(r).find(".sel-district input").val();for(var l=[],r=0;r<I.resume.worksExps.length;r++){var d=(0,h.default)(".worksexp-date").eq(r);I.resume.worksExps[r].initdate={startyear:d.find(".sel-startyear input").val(),startmonth:d.find(".sel-startmonth input").val(),endyear:d.find(".sel-endyear input").val(),endmonth:d.find(".sel-endmonth input").val()};var c={userId:v.userId,cvCpyId:I.resume.worksExps[r].cvCpyId,companyName:I.resume.worksExps[r].firma,companyType:I.resume.worksExps[r].trade,position:I.resume.worksExps[r].pos,content:I.resume.worksExps[r].resp,workAddress:I.resume.worksExps[r].province+";"+I.resume.worksExps[r].city+";"+I.resume.worksExps[r].district,salary:I.resume.worksExps[r].salary,startTime:I.resume.worksExps[r].initdate.startyear+"-"+I.resume.worksExps[r].initdate.startmonth,endTime:I.resume.worksExps[r].initdate.endyear+"-"+I.resume.worksExps[r].initdate.endmonth};l.push(c)}l=JSON.stringify(l),EventUtils.ajaxReq("/user/user/modifyCvCo","post",{userId:v.userId,cvArray:l},function(e,t){for(var s=0;s<I.resume.worksExps.length;s++)I.resume.worksExps[s].cvCpyId=e.data[s].cv_cpy_id})}if("all"==e||"edu"==e){for(var u=(0,h.default)(".major-name"),p=0;p<I.resume.edus.length;p++)I.resume.edus[p].major=u.eq(p).find(".major-input-1 input").val(),I.resume.edus[p].submajor=u.eq(p).find(".major-input-2 input").val(),I.resume.edus[p].exmajor=u.eq(p).find(".ex-major").val();for(var m=[],p=0;p<I.resume.edus.length;p++){var f=(0,h.default)(".edus-date").eq(p);I.resume.edus[p].initdate={startyear:f.find(".sel-startyear input").val(),startmonth:f.find(".sel-startmonth input").val(),endyear:f.find(".sel-endyear input").val(),endmonth:f.find(".sel-endmonth input").val()};var b={userId:v.userId,cvEduId:I.resume.edus[p].cvEduId,schoolName:I.resume.edus[p].uni,professional:I.resume.edus[p].major+";"+I.resume.edus[p].submajor+";"+I.resume.edus[p].exmajor,qualification:I.resume.edus[p].qualification,startTime:I.resume.edus[p].initdate.startyear+"-"+I.resume.edus[p].initdate.startmonth,endTime:I.resume.edus[p].initdate.endyear+"-"+I.resume.edus[p].initdate.endmonth};m.push(b)}m=JSON.stringify(m),EventUtils.ajaxReq("/user/user/modifyCvEdu","post",{userId:v.userId,cvArray:m},function(e,t){for(var s=0;s<I.resume.edus.length;s++)I.resume.edus[s].cvEduId=e.data[s].cv_edu_id})}if("all"==e||"project"==e){for(var y=[],g=0;g<I.resume.projects.length;g++){var x=(0,h.default)(".projects-date").eq(g);I.resume.projects[g].initdate={startyear:x.find(".sel-startyear input").val(),startmonth:x.find(".sel-startmonth input").val(),endyear:x.find(".sel-endyear input").val(),endmonth:x.find(".sel-endmonth input").val()};var j={userId:v.userId,cvProId:I.resume.projects[g].cvProId,companyName:I.resume.projects[g].firma,projectName:I.resume.projects[g].name,description:I.resume.projects[g].desc,position:I.resume.projects[g].resp,achievement:I.resume.projects[g].achiev,startTime:I.resume.projects[g].initdate.startyear+"-"+I.resume.projects[g].initdate.startmonth,endTime:I.resume.projects[g].initdate.endyear+"-"+I.resume.projects[g].initdate.endmonth};y.push(j)}y=JSON.stringify(y),EventUtils.ajaxReq("/user/user/modifyCvPro","post",{userId:v.userId,cvArray:y},function(e,t){for(var s=0;s<I.resume.projects.length;s++)I.resume.projects[s].cvProId=e.data[s].cv_pro_id})}}function d(e,t){I.colPosList.applyindex=e,I.colPosList.curpage=t;var s={userId:v.userId,index:t,count:3,applyStatus:e};EventUtils.ajaxReq("/recruit/getMarkList","get",s,function(e,t){e.data?(I.colPosList.results=e.data.list,I.colPosList.totalpages=e.data.totalPage,I.colPosList.totalitems=e.data.totalRow):(I.colPosList.results=[],I.colPosList.totalitems=0,I.colPosList.totalpages=1)})}function c(e,t){I.colRecList.applyindex=e,I.colRecList.curpage=t;var s={userId:v.userId,index:t,count:3,applyStatus:e};EventUtils.ajaxReq("/jobfair/getMarkList","get",s,function(e,t){e.data?(I.colRecList.results=e.data.list,I.colRecList.totalpages=e.data.totalPage,I.colRecList.totalitems=e.data.totalRow):(I.colRecList.results=[],I.colRecList.totalpages=1,I.colRecList.totalitems=0)})}function u(e,t,s){I.myPosList.curpage=s,I.myPosList.jobstate=t;var i={userId:v.userId,loginIdentifier:v.loginId,applyStatus:e,readStatus:t,index:s,count:3};EventUtils.ajaxReq("/user/user/getMyApply","get",i,function(t,s){t&&t.data?(I.myPosList.results=t.data.list,I.myPosList.totalpages=t.data.totalPage,I.myPosList.totalitems=t.data.totalRow):(I.myPosList.results=[],I.myPosList.totalpages=1,I.myPosList.totalitems=0),I.myPosList.jobsrc=e})}function p(e){var t=0;for(var s in e)if("expect"==s){var i=!0;for(var a in e[s])e[s][a]||(i=!1);i&&(t+=10)}else if("worksExps"==s){var o=!0;for(var a in e[s])e[s][a]||"initdate"==a||(o=!1);o&&(t+=12)}else if("edus"==s){var n=!0;for(var a in e[s])e[s][a]||"initdate"==a||(n=!1);n&&(t+=12)}else if("projects"==s){var r=!0;for(var a in e[s])e[s][a]||"initdate"==a||(r=!1);r&&(t+=10)}else"firstEdit"==s||"curWorksIndex"==s||("realName"==s||"phone"==s||"email"==s?e[s]&&""!=e[s]&&(t+=4):"family"==s||"nativePlace"==s||"nation"==s?e[s]&&""!=e[s]&&(t+=3):"laSkills"==s?e[s]&&""!=e[s]&&(t+=5):"selfEval"!=s&&"psInfo"!=s&&"skills"!=s||e[s]&&""!=e[s]&&(t+=10));t>100&&(t=100),b.resumePercent=t,(0,h.default)("#app-porto .progress-real").css("width",t+"%")}var m=s(0),h=function(e){return e&&e.__esModule?e:{default:e}}(m);s(4),s(2);var f=s(1);s(21),s(6),s(8),s(20),s(33),s(34),s(23),s(22),s(19),s(9),s(24),s(10),s(18),s(13),s(14),s(12),s(3),s(5),s(7),s(42);for(var v=EventUtils.urlExtrac(window.location),w={},b=(new f({el:"#app-top",data:{homeLink:"index.html?"+window.btoa("userId="+(v.userId||localStorage.userId))},methods:{showMsgbox:function(){j.show.message=!0,j.showModal=!0}}}),new f({el:"#app-porto",data:{database:{date:xqdatabase.date,addrData:addArray},viewInfo:!0,briefInfo:{gender:"",birthyear:"",birthmonth:"",birthday:"",address:{province:"",city:"",district:""},phone:"",state:""},resumePercent:0,cloneInfo:{},initAddress:{province:"",city:"",district:""}},methods:{save:function(){this.briefInfo.address.province=(0,h.default)("#app-porto .address .sel-province input").val(),this.briefInfo.address.city=(0,h.default)("#app-porto .address .sel-city input").val(),this.briefInfo.address.district=(0,h.default)("#app-porto .address .sel-district input").val();var e={id:w.userInfo.id,userId:v.userId,loginIdentifier:v.loginId,sex:"男"==this.briefInfo.gender?1:2,birthday:this.briefInfo.birthyear+"-"+this.briefInfo.birthmonth+"-"+this.briefInfo.birthday,liveStatus:this.briefInfo.state,province:this.briefInfo.address.province,city:this.briefInfo.address.city,area:this.briefInfo.address.district};EventUtils.ajaxReq("/user/user/modifyInfo","post",e,function(e,t){b.viewInfo=!0})},cancel:function(){this.briefInfo=EventUtils.cloneObj(this.cloneInfo),this.viewInfo=!0},edit:function(){this.cloneInfo=EventUtils.cloneObj(this.briefInfo),this.initAddress=EventUtils.cloneObj(this.briefInfo.address),this.viewInfo=!1,this.$nextTick(function(){selectInitInput(),selectInitPos()})},age:function(e){return(new Date).getFullYear()-e},showPre:function(){if(I.resume.firstEdit){I.resume.expect.province=(0,h.default)("#exp-address .sel-province input").val(),I.resume.expect.city=(0,h.default)("#exp-address .sel-city input").val(),I.resume.expect.district=(0,h.default)("#exp-address .sel-district input").val();for(var e=(0,h.default)(".work-address"),t=(0,h.default)(".worksexp-date"),s=0;s<I.resume.worksExps.length;s++)I.resume.worksExps[s].province=e.eq(s).find(".sel-province input").val(),I.resume.worksExps[s].city=e.eq(s).find(".sel-city input").val(),I.resume.worksExps[s].district=e.eq(s).find(".sel-district input").val(),I.resume.worksExps[s].initdate={startyear:t.eq(s).find(".sel-startyear input").val(),startmonth:t.eq(s).find(".sel-startmonth input").val(),endyear:t.eq(s).find(".sel-endyear input").val(),endmonth:t.eq(s).find(".sel-endmonth input").val()};for(var i=(0,h.default)(".major-name"),a=(0,h.default)(".edus-date"),o=0;o<I.resume.edus.length;o++)I.resume.edus[o].major=i.eq(o).find(".major-input-1 input").val(),I.resume.edus[o].submajor=i.eq(o).find(".major-input-2 input").val(),I.resume.edus[o].exmajor=i.eq(o).find(".ex-major").val(),I.resume.edus[o].initdate={startyear:a.eq(o).find(".sel-startyear input").val(),startmonth:a.eq(o).find(".sel-startmonth input").val(),endyear:a.eq(o).find(".sel-endyear input").val(),endmonth:a.eq(o).find(".sel-endmonth input").val()};for(var n=(0,h.default)(".projects-date"),r=0;r<I.resume.projects.length;r++)I.resume.projects[r].initdate={startyear:n.eq(r).find(".sel-startyear input").val(),startmonth:n.eq(r).find(".sel-startmonth input").val(),endyear:n.eq(r).find(".sel-endyear input").val(),endmonth:n.eq(r).find(".sel-endmonth input").val()};var l=[];(0,h.default)(".language-skills input[type='checkbox']").each(function(){this.checked&&l.push(this.value)}),I.resume.laSkills=l}j.showModal=!0,j.show.preview=!0},uploading:function(){j.showModal=!0,j.show.upload=!0}}})),y=[],g=0;g<addArray.length;g++)y.push(addArray[g].name);var x=new f({el:"#app-side",data:{},methods:{selnav:function(e){(0,h.default)(e).hasClass("sider-li")&&((0,h.default)(".sideBox .sider-li.on").removeClass("on"),(0,h.default)(".sideBox .sub-li").hide(),(0,h.default)(e).addClass("on"),(0,h.default)(e).children(".sub-li").length>0&&((0,h.default)(e).children(".sub-li").show(),(0,h.default)(e).find(".sub-item.on").trigger("click")),(0,h.default)(e).attr("paneid")&&((0,h.default)(".content").children().hide(),(0,h.default)(".content").children("."+(0,h.default)(e).attr("paneid")).show()),"jobBox"==(0,h.default)(e).attr("paneid")&&u(I.myPosList.jobsrc,I.myPosList.jobstate,1),selectInitPos()),(0,h.default)(e).hasClass("sub-item")&&((0,h.default)(e).siblings(".sub-item.on").removeClass("on"),(0,h.default)(e).addClass("on"),(0,h.default)(".content").children().hide(),(0,h.default)(".content").children("."+(0,h.default)(e).attr("paneid")).show(),"collec-job"==(0,h.default)(e).attr("paneid")&&d(I.colPosList.applyindex,1),"collec-recruitment"==(0,h.default)(e).attr("paneid")&&c(I.colRecList.applyindex,1),selectInitPos())}}}),I=new f({el:"#app-content",data:{database:{date:xqdatabase.date,address:{province:y,city:["",""],district:["",""]},addrData:addArray,nations:xqdatabase.nations,salary:xqdatabase.salary,major:majorArray,qualification:xqdatabase.scolarship,posData:posArray,languages:["英语","法语","日语","韩语","德语","俄语","西班牙语","葡萄牙语","阿拉伯语","其他"]},resume:{firstEdit:!0,realName:"",family:"",phone:"",email:"",nativePlace:"",nation:"",curWorksIndex:1,expect:{tradeItems:"",posItems:"",province:"",city:"",district:"",salary:""},worksExps:[{show:!0,firma:"",trade:"",pos:"",province:"",city:"",district:"",salary:"",initdate:"",resp:""}],edus:[{show:!0,uni:"",major:"",submajor:"",exmajor:"",initdate:"",qualification:""}],projects:[{show:!0,name:"",firma:"",initdate:"",desc:"",resp:"",achiev:""}],laSkills:[],selfEval:"",psInfo:"",skills:""},courses:{curpage:1,results:[{name:"课程名称",score:"4.5分",Institute:"开课学院名称",content:"web前端",duration:"学习周期",fee:"学习费用",addr:"学习地点",state:"已开课",comment:"教师评语"},{name:"课程名称",score:"4.5分",Institute:"开课学院名称",content:"web前端",duration:"学习周期",fee:"学习费用",addr:"学习地点",state:"课程结束",comment:"教师评语"},{name:"课程名称",score:"4.5分",Institute:"开课学院名称",content:"web前端",duration:"学习周期",fee:"学习费用",addr:"学习地点",state:"未开课",comment:"教师评语"},{name:"课程名称",score:"4.5分",Institute:"开课学院名称",content:"web前端",duration:"学习周期",fee:"学习费用",addr:"学习地点",state:"已开课",comment:"教师评语"},{name:"课程名称",score:"4.5分",Institute:"开课学院名称",content:"web前端",duration:"学习周期",fee:"学习费用",addr:"学习地点",state:"已开课",comment:"教师评语"},{name:"课程名称",score:"4.5分",Institute:"开课学院名称",content:"web前端",duration:"学习周期",fee:"学习费用",addr:"学习地点",state:"已开课",comment:"教师评语"},{name:"课程名称",score:"4.5分",Institute:"开课学院名称",content:"web前端",duration:"学习周期",fee:"学习费用",addr:"学习地点",state:"已开课",comment:"教师评语"}]},colStuList:{curpage:1,results:[{name:"课程名称",score:"4.5分",Institute:"开课学院名称",content:"web前端",duration:"学习周期",fee:"学习费用",addr:"学习地点",InScale:5e3},{name:"课程名称",score:"4.5分",Institute:"开课学院名称",content:"web前端",duration:"学习周期",fee:"学习费用",addr:"杭州-滨江",InScale:5e3},{name:"课程名称",score:"4.5分",Institute:"开课学院名称",content:"web前端",duration:"学习周期",fee:"学习费用",addr:"学习地点",InScale:5e3},{name:"课程名称",score:"4.5分",Institute:"开课学院名称",content:"web前端",duration:"学习周期",fee:"学习费用",addr:"学习地点",InScale:5e3},{name:"课程名称",score:"4.5分",Institute:"开课学院名称",content:"web前端",duration:"学习周期",fee:"学习费用",addr:"学习地点",InScale:5e3},{name:"课程名称",score:"4.5分",Institute:"开课学院名称",content:"web前端",duration:"学习周期",fee:"学习费用",addr:"学习地点",InScale:5e3}]},colPosList:{curpage:1,totalpages:1,totalitems:0,states:["全部状态","未投递","已投递","已下线"],curstate:"全部状态",applyindex:0,results:[]},colRecList:{curpage:1,totalpages:1,totalitems:0,states:["全部状态","未投递","已投递","已下线"],curstate:"全部状态",applyindex:0,results:[]},myPosList:{curpage:1,jobsrc:1,jobstate:1,totalpages:1,totalitems:0,states:["全部状态","未查看","已查看","已反馈"],curstate:"全部状态",types:["招聘会","企业直聘"],curtype:"招聘会",results:[]},config:{loginName:"",userId:v.userId,safeLevel:"80%",bind:{mobile:"",email:""}}},methods:{posLink:function(e){return e.jobFairId?"detail-increcruit.html?"+window.btoa("userId="+v.userId+"&jobfairId="+e.jobFairId):e.recruitId?"detail-position.html?"+window.btoa("userId="+v.userId+"&recruitId="+e.recruitId):void 0},infoExtrac:function(e){return e?EventUtils.infoExtrac(e):""},infoShow:function(e,t){return EventUtils.infoShow(e,t)},dateExtrac:function(e){return e?e.split(" ")[0]:""},cityExtrac:function(e){return e?e.split(";")[1]:""},remainText:function(e,t){var s=1e3;switch(t){case"selfeval":case"psinfo":s=200;break;case"skill":s=100;break;default:s=1e3}return e?s-e.length<0?0:s-e.length:s},checkText:function(e,t){if("worksresp"==e){var s=this.resume.worksExps[t].resp.length;s>1e3&&(swal({title:"",text:"最多只能输入1000字！",type:"warning"}),this.resume.worksExps[t].resp=this.resume.worksExps[t].resp.slice(0,1e3))}else if("prodesc"==e){var s=this.resume.projects[t].desc.length;s>1e3&&(swal({title:"",text:"最多只能输入1000字！",type:"warning"}),this.resume.projects[t].desc=this.resume.projects[t].desc.slice(0,1e3))}else if("proresp"==e){var s=this.resume.projects[t].resp.length;s>1e3&&(swal({title:"",text:"最多只能输入1000字！",type:"warning"}),this.resume.projects[t].resp=this.resume.projects[t].resp.slice(0,1e3))}else if("proachiev"==e){var s=this.resume.projects[t].achiev.length;s>1e3&&(swal({title:"",text:"最多只能输入1000字！",type:"warning"}),this.resume.projects[t].achiev=this.resume.projects[t].achiev.slice(0,1e3))}else if("selfeval"==e){var s=this.resume.selfEval.length;s>200&&(swal({title:"",text:"最多只能输入200字！",type:"warning"}),this.resume.selfEval=this.resume.selfEval.slice(0,200))}else if("psinfo"==e){var s=this.resume.psInfo.length;s>200&&(swal({title:"",text:"最多只能输入200字！",type:"warning"}),this.resume.psInfo=this.resume.psInfo.slice(0,200))}else if("skill"==e){var s=this.resume.skills.length;s>100&&(swal({title:"",text:"最多只能输入100字！",type:"warning"}),this.resume.skills=this.resume.skills.slice(0,100))}},popTrade:function(e){j.showModal=!0,j.show.trade=!0},popTradeSingle:function(e){j.showModal=!0,this.resume.curWorksIndex=e,j.show.tradeSingle=!0},popPosition:function(){j.showModal=!0,j.show.position=!0},showPre:function(){if(I.resume.firstEdit){I.resume.expect.province=(0,h.default)("#exp-address .sel-province input").val(),I.resume.expect.city=(0,h.default)("#exp-address .sel-city input").val(),I.resume.expect.district=(0,h.default)("#exp-address .sel-district input").val();for(var e=(0,h.default)(".work-address"),t=(0,h.default)(".worksexp-date"),s=0;s<I.resume.worksExps.length;s++)I.resume.worksExps[s].province=e.eq(s).find(".sel-province input").val(),I.resume.worksExps[s].city=e.eq(s).find(".sel-city input").val(),I.resume.worksExps[s].district=e.eq(s).find(".sel-district input").val(),I.resume.worksExps[s].initdate={startyear:t.eq(s).find(".sel-startyear input").val(),startmonth:t.eq(s).find(".sel-startmonth input").val(),endyear:t.eq(s).find(".sel-endyear input").val(),endmonth:t.eq(s).find(".sel-endmonth input").val()};for(var i=(0,h.default)(".major-name"),a=(0,h.default)(".edus-date"),o=0;o<I.resume.edus.length;o++)I.resume.edus[o].major=i.eq(o).find(".major-input-1 input").val(),I.resume.edus[o].submajor=i.eq(o).find(".major-input-2 input").val(),I.resume.edus[o].exmajor=i.eq(o).find(".ex-major").val(),I.resume.edus[o].initdate={startyear:a.eq(o).find(".sel-startyear input").val(),startmonth:a.eq(o).find(".sel-startmonth input").val(),endyear:a.eq(o).find(".sel-endyear input").val(),endmonth:a.eq(o).find(".sel-endmonth input").val()};for(var n=(0,h.default)(".projects-date"),r=0;r<I.resume.projects.length;r++)I.resume.projects[r].initdate={startyear:n.eq(r).find(".sel-startyear input").val(),startmonth:n.eq(r).find(".sel-startmonth input").val(),endyear:n.eq(r).find(".sel-endyear input").val(),endmonth:n.eq(r).find(".sel-endmonth input").val()};var l=[];(0,h.default)(".language-skills input[type='checkbox']").each(function(){this.checked&&l.push(this.value)}),I.resume.laSkills=l}j.showModal=!0,j.show.preview=!0,(0,h.default)(window).scrollTop(0)},addWorksexp:function(){for(var e=0;e<this.resume.worksExps.length;e++)this.resume.worksExps[e].show=!1;var t=EventUtils.cloneObj(this.resume.worksExps[0]);for(var s in t)t[s]="";t.show=!0,this.resume.worksExps.push(t),this.$nextTick(function(){selectInitInput(),selectInitPos()})},workSwipe:function(e){for(var t=0;t<this.resume.worksExps.length;t++)this.resume.worksExps[t].show=!1;this.resume.worksExps[e].show=!0,this.$nextTick(function(){selectInitInput(),selectInitPos()})},addEdu:function(){for(var e=0;e<this.resume.edus.length;e++)this.resume.edus[e].show=!1;var t={show:!0,uni:"",major:"",submajor:"",exmajor:"",initdate:"",qualification:""};this.resume.edus.push(t),this.$nextTick(function(){selectInitInput(),selectInitPos()})},eduSwipe:function(e){for(var t=0;t<this.resume.edus.length;t++)this.resume.edus[t].show=!1;this.resume.edus[e].show=!0,this.$nextTick(function(){selectInitInput(),selectInitPos()})},addProject:function(){for(var e=0;e<this.resume.projects.length;e++)this.resume.projects[e].show=!1;var t={show:!0,name:"",firma:"",initdate:"",desc:"",resp:"",achiev:""};this.resume.projects.push(t),this.$nextTick(function(){selectInitInput(),selectInitPos()})},projectSwipe:function(e){for(var t=0;t<this.resume.projects.length;t++)this.resume.projects[t].show=!1;this.resume.projects[e].show=!0,this.$nextTick(function(){selectInitInput(),selectInitPos()})},submit:function(){var e=!0;return(0,h.default)(".edit-must input:visible").each(function(t){""==this.value?((0,h.default)(this).addClass("hint-nullable"),e=!1):(0,h.default)(this).removeClass("hint-nullable")}),e?variableUtils.regExp.mobile.test(this.resume.phone)?((0,h.default)("#cv-mobile").removeClass("hint-nullable"),variableUtils.regExp.email.test(this.resume.email)?((0,h.default)("#cv-email").removeClass("hint-nullable"),this.resume.firstEdit=!1,l("all"),p(I.resume),(0,h.default)(".edit").hide(),void(0,h.default)(".view").show()):((0,h.default)("#cv-email").addClass("hint-nullable"),swal({title:"",text:"请检查邮箱格式是否正确！",type:"warning"}),!1)):((0,h.default)("#cv-mobile").addClass("hint-nullable"),swal({title:"",text:"请检查手机格式是否正确！",type:"warning"}),!1):(swal({title:"",text:"请完成必填信息！",type:"warning"}),!1)},deleteItem:function(e,t){"worksexp"==e?this.resume.worksExps.length>1?(r("work",I.resume.worksExps[t].cvCpyId),this.resume.worksExps.splice(t,1)):swal({title:"",text:"至少保留一项！",type:"warning"}):"edu"==e?this.resume.edus.length>1?(r("edu",I.resume.edus[t].cvEduId),this.resume.edus.splice(t,1)):swal({title:"",text:"至少保留一项！",type:"warning"}):"project"==e&&(this.resume.projects.length>1?(r("project",I.resume.projects[t].cvProId),this.resume.projects.splice(t,1)):swal({title:"",text:"至少保留一项！",type:"warning"}))},stateCss:function(e){return"已开课"==e?"begin":"课程结束"==e?"after":"before"},showResult:function(e,t,s){return e>=(parseInt(t)-1)*parseInt(s)&&e<parseInt(t)*parseInt(s)},showpage:function(e){return e<3?e:3},cancelCollect:function(e,t){switch(e){case"position":var s={id:t};EventUtils.ajaxReq("/recruit/delMarkInfo","post",s,function(e,t){1==I.colPosList.results.length&&I.colPosList.curpage>1&&(I.colPosList.curpage-=1),(0,h.default)(".collec-job .pagination a.page").eq(I.colPosList.curpage-1).parent().trigger("click")});break;case"jobfair":EventUtils.ajaxReq("/jobfair/delMarkInfo","post",{id:t},function(e,t){1==I.colRecList.results.length&&I.colRecList.curpage>1&&(I.colRecList.curpage-=1),(0,h.default)(".collec-recruitment .pagination a.page").eq(I.colRecList.curpage-1).parent().trigger("click")})}},topage:function(e,t){"course"==t?this.courses.curpage=e:"col-study"==t?this.colStuList.curpage=e:"col-pos"==t?d(I.colPosList.applyindex,e):"col-rec"==t?c(I.colRecList.applyindex,e):"my-pos"==t&&u(I.myPosList.jobsrc,I.myPosList.jobstate,e)},apply:function(e,t){if("recruit"==e){var s={userId:v.userId,recruitId:t.recruitId};EventUtils.ajaxReq("/recruit/cooperateRecruit","post",s,function(e,s){e.data&&"0"==e.data.isApply?(swal({title:"",text:"投递成功！",type:"success"}),t.status=1):swal({title:"",text:e.info,type:"error"})})}if("jobfair"==e){var s={userId:v.userId,jobFairId:t.jobFairId};EventUtils.ajaxReq("/jobfair/cooperateJobFair","post",s,function(e,s){e.data&&"0"==e.data.isApply?(swal({title:"",text:"投递成功！",type:"success"}),t.status=1):swal({title:"",text:e.info,type:"error"})})}},modifyMobile:function(){j.show.mobile=!0,j.showModal=!0},modifyEmail:function(){j.show.email=!0,j.showModal=!0},bindWechat:function(){j.show.wechat=!0,j.showModal=!0}},watch:{"resume.phone":function(e,t){(!/^\d*$/.test(e)||e.length>11)&&(this.resume.phone=t)},"colPosList.curstate":function(e){switch(e){case"未投递":d(1,1);break;case"已投递":d(2,1);break;case"已下线":d(3,1);break;default:d(0,1)}},"colRecList.curstate":function(e){switch(e){case"未投递":c(1,1);break;case"已投递":c(2,1);break;case"已下线":c(3,1);break;default:c(0,1)}},"myPosList.curtype":function(e){"招聘会"==e&&u(1,I.myPosList.jobstate,1),"企业直聘"==e&&u(2,I.myPosList.jobstate,1)},"myPosList.curstate":function(e){"全部状态"==e&&u(I.myPosList.jobsrc,1,1),"未查看"==e&&u(I.myPosList.jobsrc,2,1),"已查看"==e&&u(I.myPosList.jobsrc,3,1),"已反馈"==e&&u(I.myPosList.jobsrc,4,1)}},components:{pagination:pagination}}),j=(new f({el:"#app-footer",data:{userId:v.userId}}),new f({el:"#app-modal",data:{show:{trade:!1,tradeSingle:!1,preview:!1,upload:!1,position:!1,mobile:!1,email:!1,wechat:!1,message:!1},account:{userId:v.userId},checkedTrades:[],showModal:!1,trades:workareas,baseInfo:b.briefInfo,resumeInfo:I.resume,database:{posdata:posArray}},methods:{closePorto:function(){this.show.upload=!1,this.showModal=!1},closeTrade:function(){this.show.trade=!1,this.show.tradeSingle=!1,this.showModal=!1},checkfunc:function(e,t){if(t.checked){if(this.checkedTrades.length>=3)return t.checked=!1,!1;this.checkedTrades.push(e)}else this.checkedTrades.remove(e)},submitTrade:function(e){if("expect"==e)I.resume.expect.tradeItems=this.checkedTrades.join(),this.show.trade=!1;else if("worksexp"==e){var t=I.resume.curWorksIndex;I.resume.worksExps[t].trade=(0,h.default)(".trade-single-table input[type='radio']:checked").val(),this.show.tradeSingle=!1}this.showModal=!1},cancelTrade:function(){this.show.trade=!1,this.show.tradeSingle=!1,this.showModal=!1},submitPos:function(e){I.resume.expect.posItems=e.join(),this.show.position=!1,this.showModal=!1},cancelPos:function(){this.show.position=!1,this.showModal=!1},hidemodal:function(e){if((0,h.default)(e).hasClass("modal")){for(var t in this.show)this.show[t]=!1;this.showModal=!1}},closeMobile:function(){EventUtils.ajaxReq("/center/user/getInfo","get",{userId:v.userId},function(e,t){I.config.bind.mobile=e.data.mobile,I.config.bind.email=e.data.email}),this.show.mobile=!1,this.showModal=!1},closeWechat:function(){this.show.wechat=!1,this.showModal=!1},closeEmail:function(){EventUtils.ajaxReq("/center/user/getInfo","get",{userId:v.userId},function(e,t){I.config.bind.mobile=e.data.mobile,I.config.bind.email=e.data.email}),this.show.email=!1,this.showModal=!1},closeMsg:function(){this.show.message=!1,this.showModal=!1}},watch:{"show.message":function(e){if(e)this.$nextTick(function(){EventUtils.absCenter((0,h.default)("#app-modal .msg-box"))});else{var t={userId:v.userId,index:1,count:8};EventUtils.ajaxReq("/message/getMessageList","get",t,function(e,t){e.data&&e.data.count>0?((0,h.default)(".msg-center .msg-info").html(e.data.count),(0,h.default)(".msg-center .msg-info").show()):(0,h.default)(".msg-center .msg-info").hide()})}},"show.upload":function(e){e&&this.$nextTick(function(){EventUtils.absCenter((0,h.default)("#app-modal .porto-upload"))})},"show.mobile":function(e){e&&this.$nextTick(function(){EventUtils.absCenter((0,h.default)("#app-modal .mobile-bind"))})},"show.email":function(e){e&&this.$nextTick(function(){EventUtils.absCenter((0,h.default)("#app-modal .email-bind"))})},"show.wechat":function(e){e&&this.$nextTick(function(){EventUtils.absCenter((0,h.default)("#app-modal .wechat-bind"))})},"show.tradeSingle":function(e){e&&this.$nextTick(function(){EventUtils.absCenter((0,h.default)("#app-modal .trade-box-single"))})},"show.trade":function(e){e&&this.$nextTick(function(){EventUtils.absCenter((0,h.default)("#app-modal .trade-box-multi"))})},"show.position":function(e){e&&this.$nextTick(function(){EventUtils.absCenter((0,h.default)("#app-modal .pos-pop-box"))})}}}));!function(){i(),selectInitInput(),selectInitPos(),n(),o(),v.theme&&(v.theme.indexOf("collec")>=0&&((0,h.default)(".sideBox .myCollect").trigger("click"),(0,h.default)(".sideBox .myCollect .sub-item:first").trigger("click")),v.theme.indexOf("conf")>=0?((0,h.default)(".sideBox .myConfig").trigger("click"),(0,h.default)(".sideBox .myConfig .sub-item:first").trigger("click")):(0,h.default)(".sideBox li[paneid='"+v.theme+"']").trigger("click")),a()}(),window.onunload=function(){(0,h.default)(".resumeBox .btn-edit").click(null),(0,h.default)(".resumeBox .edit-item .buttons button").click(null),b.$off(),x.$off(),I.$off(),j.$off()}}},[71]);