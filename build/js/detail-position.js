webpackJsonp([9],{14:function(t,e,a){"use strict";(function(t){var e=a(1);!function(){e.component("detail-table",{template:'<div id="app-table">        <ul class="result-tabs lis-inline LH40 t-center color-gray79 fSize16" @click.stop="selectTab($event.target)">            <li cont="cont-demand" v-if="tabletype==1||tabletype==2" class="on">需求描述</li>            <li cont="cont-demand" v-if="tabletype==3||tabletype==4" class="on">招聘会描述</li>            <li cont="cont-demand" v-if="tabletype==5" class="on">岗位描述</li>            <li cont="cont-desc" v-if="tabletype==1||tabletype==3">高校简介</li>            <li cont="cont-desc" v-if="tabletype==2||tabletype==4||tabletype==5">企业简介</li>            <li cont="cont-apply">申请记录<i class="msg-info" v-show="options.applyRec.totalitems>0">{{hintshow(options.applyRec.totalitems)}}</i></li>            <li cont="cont-comment" v-if="tabletype==1||tabletype==3">高校评价<i class="msg-info" v-show="options.comment.totalitems>0">{{hintshow(options.comment.totalitems)}}</i></li>            <li cont="cont-comment" v-if="tabletype==2||tabletype==4||tabletype==5">企业评价<i class="msg-info" v-show="options.comment.totalitems>0">{{hintshow(options.comment.totalitems)}}</i></li>        </ul>        <p class="tab-cont fSize14 LH38 color-gray6 cont-demand" style="display:block ">{{options.desc}}</p>        <p class="tab-cont LH42 fSize14 color-gray6 cont-desc">{{options.userdesc}}</p>        <div class="cont-apply tab-cont">            <table class="LH48 fSize12 result-table">                <tr class="bg-gray-f2 color-gray79 fSize14">                    <th class="W200">申请者</th>                    <th class="W400">申请时间</th>                    <th class="W200">状态</th>                </tr>                <tr v-for="item in options.applyRec.results">                    <td>{{nameFilter(item.userName)}}</td>                    <td>{{item.createTime}}</td>                    <td :class="viewCss(item.readStatus,item.status)">{{statetext(item.readStatus,item.status)}}</td>                </tr>            </table>            <div class="paBot33" v-show="options.applyRec.totalpages>1">                <pagination :showpages="showpage(options.applyRec.totalpages)" :totalpages="options.applyRec.totalpages" type="apply" @topage="topage" class="maT28 fSize14 maL150"></pagination>            </div>        </div>        <div class="tab-cont cont-comment">            <ul class="H675">                <li class="clearfix" v-for="item in options.comment.results">                    <div class="avatar fl fSize14 color-gray6 t-center maL28 maR28">                        <img :src="item.userIcon" />                    </div>                    <div class="fl fSize14 W660">                        <h4 class="LH-H36 color-gray79">[评价]</h4>                        <p class="color-gray6 LH25 comment-text">{{item.comment}}</p>                    </div>                    <span class="time">{{item.createTime}}</span>                </li>                <li v-show="options.comment.results.length==0" class="t-center fSize20">暂无评论~</li>            </ul>            <div class="paBot33" v-show="options.comment.totalpages>1">                <pagination :showpages="showpage(options.comment.totalpages)" :totalpages="options.comment.totalpages" type="comment" @topage="topage" class="maT28 fSize14 maL150"></pagination>            </div>        </div>    </div>',props:["tabletype","options"],methods:{hintshow:function(t){return t<100?t:"..."},nameFilter:function(t){if(1==this.tabletype||2==this.tabletype||3==this.tabletype)return t.charAt(0)+"***"+t.charAt(t.length-1);for(var e=t.charAt(0),a=0;a<t.length-1;a++)e+="*";return e},selectTab:function(e){return!t(e).hasClass("msg-info")&&(!t(e).hasClass("result-tabs")&&(t(".result-tabs li").removeClass("on"),t(e).addClass("on"),t(".tab-cont").hide(),void t("."+t(e).attr("cont")).show()))},viewCss:function(t,e){return"1"!=e||1!=this.tabletype&&2!=this.tabletype?"1"!=e||3!=this.tabletype&&4!=this.tabletype&&5!=this.tabletype?"1"==t?"viewed":void 0:"interview":"coop"},statetext:function(t,e){return"1"!=e||1!=this.tabletype&&2!=this.tabletype?"1"!=e||3!=this.tabletype&&4!=this.tabletype?"1"==e&&5==this.tabletype?"邀请面试":"2"==e?"不合适":"1"==t?"查看":"未查看":"邀请参会":"邀请合作"},showpage:function(t){return t>3?3:t},topage:function(t,e){"apply"==e?this.$emit("applycallback",t):"comment"==e&&this.$emit("cmtcallback",t)}},components:{pagination:pagination}})}()}).call(e,a(0))},15:function(t,e){},51:function(t,e,a){"use strict";function s(){var t={recruitId:p.recruitId};p.userId&&(t.userId=p.userId),EventUtils.ajaxReq("/recruit/getInfo","get",t,function(t,e){d=t.data;var a={title:d.title,viewed:d.readCount,applied:d.applyCount,publicDate:d.updateTime.split(" ")[0]},s="";switch(d.sex){case"1":s="男";break;case"2":s="女";break;case"3":s="不限"}if(f.posdata=a,d.companyAddress&&d.companyAddress.indexOf(";")>=0)var o=d.companyAddress.split(";")[1];else var o="";var l={userIcon:d.userIcon,pos:EventUtils.infoExtrac(d.job),salary:d.salary,posType:d.workType,scolar:d.education,gender:s,worksexp:d.workTime,posAmount:d.recruitCount,contact:d.mobile,address:o,welfare:d.welfare?d.welfare.split(";"):"",inc:d.userName,incProps:d.userProperty,incScale:d.userScale,incArea:d.userType,posDesc:d.discription,userDesc:d.userDiscription};h.posdata=l,"1"==d.markStatus&&((0,c.default)("#app-banner .btn-collec").addClass("collected"),(0,c.default)("#app-banner .btn-collec span").html("已收藏")),h.tabledata.desc=d.discription,h.tabledata.userdesc=d.userDiscription,"1"==d.applyStatus&&((0,c.default)("#app-banner .btn-apply").attr("disabled",!0),(0,c.default)("#app-banner .btn-apply").text("已投递")),i(1),n(d.userId,1)}),p.userId&&EventUtils.ajaxReq("/center/user/getInfo","post",{userId:p.userId},function(t,e){(u=t.data)&&(m.userName=t.data.userName,m.userType=t.data.userType,m.isLogin=!0)})}function o(){(0,c.default)(".account li").mouseenter(function(){(0,c.default)(this).find("dl").length>0&&(0,c.default)(this).find("dl").slideDown()}).mouseleave(function(){(0,c.default)(this).find("dl").length>0&&(0,c.default)(this).find("dl").hide()})}function i(t){var e={recruitId:p.recruitId,index:t,count:13};EventUtils.ajaxReq("/recruit/getApplyRecord","get",e,function(t,e){t&&t.data?(h.tabledata.applyRec.totalpages=t.data.totalPage,h.tabledata.applyRec.results=t.data.list,h.tabledata.applyRec.totalitems=t.data.totalRow):(h.tabledata.applyRec.totalpages=1,h.tabledata.applyRec.results=[],h.tabledata.applyRec.totalitems=0)})}function n(t,e){var a={reportUserId:t,index:e,count:6};EventUtils.ajaxReq("/sys/getCommentList","post",a,function(t,e){t&&t.data?(h.tabledata.comment.results=t.data.list,h.tabledata.comment.totalpages=t.data.totalPage,h.tabledata.comment.totalitems=t.data.totalRow):(h.tabledata.comment.results=[],h.tabledata.comment.totalpages=1,h.tabledata.comment.totalitems=0)})}var l=a(0),c=function(t){return t&&t.__esModule?t:{default:t}}(l);a(4),a(2);var r=a(1);a(6),a(8),a(14),a(9),a(3),a(5),a(7),a(15);var p=EventUtils.urlExtrac(window.location),d={},u={},m=new r({el:"#app-top",data:{isLogin:!1,userType:"0",userName:""},methods:{loginEv:function(){y.showModal=!0,y.showLogin=!0},regisEv:function(){window.open(EventUtils.securityUrl("login.html?newAcc=1"),"_blank")},publish:function(){switch(this.userType){case"1":var t="uniRequire.html?new=1";break;case"2":var t="incRequire.html?new=1"}u.userId&&(t+="&userId="+u.userId+"&loginId="+u.loginIdentifier),t=EventUtils.securityUrl(t),window.open(t,"_blank")},toCenter:function(t){switch(this.userType){case"0":var e="pCenter.html?theme="+t;break;case"1":var e="uniCenter.html?theme="+t;break;case"2":var e="incCenter.html?theme="+t}u.userId&&(e+="&userId="+u.userId+"&loginId="+u.loginIdentifier),e=EventUtils.securityUrl(e),window.open(e,"_blank")},logout:function(){this.isLogin=!1,(0,c.default)("#app-banner .btn-collec").removeClass("collected"),(0,c.default)("#app-banner .btn-collec span").html("收 藏"),y.login.account="",y.login.password="",(0,c.default)("button.btn-apply[disabled]").text("投个简历"),(0,c.default)("button.btn-apply[disabled]").attr("disabled",!1);var t={title:document.title,url:document.location.href,otherkey:null},e=EventUtils.securityUrl("detail-position.html?recruitId="+p.recruitId);history.replaceState(t,document.title,e)}},watch:{isLogin:function(t){b.userId=t?u.userId:""}}}),f=new r({el:"#app-banner",data:{posdata:{pos:"UI设计师",viewed:30,applied:15,publicDate:"2016-12-11"}},methods:{collect:function(t){if(m.isLogin){if("0"!=u.userType)return swal({title:"",text:"抱歉，您不能收藏该职位！",type:"warning"}),!1;if((0,c.default)(t).hasClass("btn-collec")||(t=t.parentNode),!(0,c.default)(t).hasClass("collected")){var e={userId:p.userId,loginIdentifier:p.loginId,recruitId:p.recruitId};EventUtils.ajaxReq("/recruit/addMarkInfo","post",e,function(e,a){(0,c.default)(t).find("span").text("已收藏"),(0,c.default)(t).addClass("collected")})}}else y.showModal=!0,y.showLogin=!0,y.showSucc=!1},coApply:function(t){if(m.isLogin){if("0"!=u.userType)return swal({title:"",text:"抱歉，您不能投递该职位！",type:"warning"}),!1;var e={userId:u.userId,loginIdentifier:u.loginId,recruitId:p.recruitId};EventUtils.ajaxReq("/recruit/cooperateRecruit","post",e,function(e,a){"0"==e.data.isApply?(y.showModal=!0,y.showLogin=!1,y.showSucc=!0):swal({title:"",text:e.info,type:"error"}),(0,c.default)(t).attr("disabled",!0).text("已投递")})}else y.showModal=!0,y.showLogin=!0,y.showSucc=!1},homeLink:function(){var t=m.isLogin?"index.html?userId="+u.userId:"index.html";window.location.href=EventUtils.securityUrl(t)}}}),h=new r({el:"#app-main",data:{posdata:{userIcon:"",pos:"UI设计师",salary:"6K-8K",posType:"全职",scolar:"大专以上",gender:"不限",worksexp:"1-3年经验",posAmount:1,contact:"18845696321",address:"杭州市滨江区六合路368号一幢(北)三楼B3077室-4",welfare:["五险一金","带薪年假","加班补助","双休","朝九晚五","运营大咖","美酒零食"],inc:"杭州煌巢科技有限公司分公司",incProps:"国企",incScale:2e4,incArea:"互联网",posDesc:"",userDesc:""},showMobile:!1,tabledata:{desc:"",userdesc:"",applyRec:{totalpages:1,totalitems:0,results:[]},comment:{totalpages:1,totalitems:0,results:[]}}},methods:{showContact:function(t){return this.showMobile&&m.isLogin?t:t.slice(0,3)+"****"+t.slice(7)},showPhone:function(){m.isLogin?this.showMobile=!0:(y.showLogin=!0,y.showSucc=!1,y.showModal=!0)},showAllContact:function(t){(0,c.default)(".descript .contact-phone").text(t)},applyswitch:function(t){i(t)},cmtswitch:function(t){n(d.userId,t)}}}),b=new r({el:"#app-footer",data:{userId:p.userId}}),y=new r({el:"#app-modal",data:{showModal:!1,showSucc:!1,showLogin:!1,login:{account:"",password:""}},methods:{securityUrl:function(t){return EventUtils.securityUrl(t)},confirmSuc:function(){this.showSucc=!1,this.showModal=!1},closeSuc:function(){this.showSucc=!1,this.showModal=!1},closeLog:function(){this.showLogin=!1,this.showModal=!1},loginEv:function(){var t={loginName:this.login.account,password:this.login.password};EventUtils.ajaxReq("/center/user/login","post",t,function(t,e){u=t.data,m.userType=u.userType,m.userName=u.name,m.isLogin=!0,y.showModal=!1,y.showLogin=!1;var a={recruitId:p.recruitId,userId:u.userId};EventUtils.ajaxReq("/recruit/getInfo","get",a,function(t,e){"1"==t.data.markStatus&&((0,c.default)("#app-banner .btn-collec").addClass("collected"),(0,c.default)("#app-banner .btn-collec span").html("已收藏")),"1"==t.data.applyStatus&&((0,c.default)("#app-banner .btn-apply").attr("disabled",!0),(0,c.default)("#app-banner .btn-apply span").text("已申请"))});var s={title:document.title,url:document.location.href,otherkey:null};history.replaceState(s,document.title,EventUtils.securityUrl("detail-position.html?recruitId="+p.recruitId+"&userId="+t.data.userId))})}},watch:{showLogin:function(t){t&&this.$nextTick(function(){EventUtils.absCenter((0,c.default)(".dlg-login"))})},showSucc:function(t){t&&this.$nextTick(function(){EventUtils.absCenter((0,c.default)(".dlg-success"))})}}});!function(){s(),selectInitPos(),o()}(),window.onunload=function(){m.$off(),f.$off(),h.$off(),b.$off(),y.$off()}}},[51]);