webpackJsonp([19],{16:function(e,t){},57:function(e,t,s){"use strict";function a(){var e={demandType:1,index:1,count:8};d.userId?(e.userId=d.userId,EventUtils.ajaxReq("/demand/getList","get",e,function(e,t){e.data?(y.uniList.totalpages=e.data.totalPage,y.uniList.results=e.data.list,d.searchtext&&(h.keywords=decodeURI(d.searchtext),o(1))):(y.uniList.totalpages=1,y.uniList.results=[],d.searchtext&&(h.keywords=decodeURI(d.searchtext),o(1)))}),EventUtils.ajaxReq("/center/user/getInfo","post",{userId:d.userId},function(e,t){l=e.data,e&&e.data&&(p.userName=e.data.userName,p.userType=e.data.userType,p.isLogin=!0)})):EventUtils.ajaxReq("/demand/getList","get",e,function(e,t){e.data?(y.uniList.totalpages=e.data.totalPage,y.uniList.results=e.data.list,d.searchtext&&(h.keywords=decodeURI(d.searchtext),o(1))):(y.uniList.totalpages=1,y.uniList.results=[],d.searchtext&&(h.keywords=decodeURI(d.searchtext),o(1)))})}function n(){(0,u.default)(".selectee input").each(function(){var e=(0,u.default)(this).width()+10+"px center";(0,u.default)(this).css("background-position",e)}),(0,u.default)(".selectee ul").each(function(){var e=(0,u.default)(this).siblings("input");(0,u.default)(this).width(e.width()+30),(0,u.default)(this).css({left:e.css("margin-left"),top:e.height()})}),(0,u.default)(".popBox .selectee ul").css("top","25px"),(0,u.default)("body").bind("click",function(){(0,u.default)(".selectee ul").hide(),h.showPosBox=!1,h.showAreaBox=!1,h.showWelBox=!1})}function i(){(0,u.default)(".account li").hover(function(){(0,u.default)(this).find("dl").slideDown(300)},function(){(0,u.default)(this).find("dl").slideUp(200)}),(0,u.default)(".popBox").click(function(){return!1})}function o(e){y.resultType=0;var t="";switch(h.uniQuery.publicTime){case"三天内":t=1;break;case"一周内":t=2;break;case"一月内":t=3}var s={demandType:1,index:e,count:8,title:h.keywords,userAddress:h.uniQuery.address,companyProperty:h.uniQuery.incReq.IncProps,companyScale:h.uniQuery.incReq.IncScale,companyType:""==h.uniQuery.incReq.areas.area_1?"":h.uniQuery.incReq.areas.area_1+";"+h.uniQuery.incReq.areas.area_2,profession:""==(0,u.default)(".queryform .major-input-1 input").val()?"不限":h.uniQuery.major,professionCount:h.uniQuery.majorsum,job:""==h.uniQuery.incReq.pos.pos_1?"":h.uniQuery.incReq.pos.pos_1+";"+h.uniQuery.incReq.pos.pos_2,jobCount:h.uniQuery.incReq.posAmount,trainType:h.uniQuery.trainway,timeType:t};l&&l.userId&&(s.userId=l.userId),s=EventUtils.filterReqdata(s),EventUtils.ajaxReq("/demand/getList","get",s,function(e,t){e.data?(y.uniList.totalpages=e.data.totalPage,y.uniList.results=e.data.list,e.data.list.length<=1?(0,u.default)(".results").css("background","url('images/display-bg.png') no-repeat bottom center"):(0,u.default)(".results").css("background","none")):(y.uniList.totalpages=1,y.uniList.results=[],(0,u.default)(".results").css("background","url('images/display-bg.png') no-repeat bottom center"))})}var r=s(0),u=function(e){return e&&e.__esModule?e:{default:e}}(r);s(4),s(2);var c=s(1);s(6),s(8),s(9),s(10),s(11),s(13),s(12),s(3),s(5),s(7),s(16);var d=EventUtils.urlExtrac(window.location),l={},f=[];!function(){EventUtils.initDatabase();for(var e=0;e<posArray.length;e++)for(var t=0;t<posArray[e].subpos.length;t++)"不限"!=posArray[e].subpos[t].name&&f.push(posArray[e].subpos[t]);f.push({name:"不限",subpos:["不限"]})}();var p=new c({el:"#app-top",data:{isLogin:!1,userType:"",userName:""},methods:{loginEv:function(){m.showModal=!0,m.showLogin=!0},regisEv:function(){var e=EventUtils.securityUrl("login.html?newAcc=1");window.open(e,"_blank")},publish:function(){switch(l.userType){case"1":var e="uniRequire.html?new=1";break;case"2":var e="incRequire.html?new=1"}l.userId&&(e+="&userId="+l.userId+"&loginId="+l.loginIdentifier),e=EventUtils.securityUrl(e),window.open(e,"_blank")},toCenter:function(e){switch(this.userType){case"0":var t="pCenter.html?theme="+e;break;case"1":var t="uniCenter.html?theme="+e;break;case"2":var t="incCenter.html?theme="+e}l.userId&&(t+="&userId="+l.userId+"&loginId="+l.loginIdentifier),t=EventUtils.securityUrl(t),window.open(t,"_blank")},logout:function(){this.isLogin=!1,m.login.account="",m.login.password="",l={};var e={demandType:1,index:1,count:8};EventUtils.ajaxReq("/demand/getList","get",e,function(e,t){e.data?(y.uniList.totalpages=e.data.totalPage,y.uniList.results=e.data.list,d.searchtext&&(h.keywords=decodeURI(d.searchtext),o(1))):(y.uniList.totalpages=1,y.uniList.results=[],d.searchtext&&(h.keywords=decodeURI(d.searchtext),o(1)))});var t={title:document.title,url:document.location.href,otherkey:null};history.replaceState(t,document.title,"display-uni.html")}},watch:{isLogin:function(e){e?(y.accountId=l.userId,w.userId=l.userId):(y.accountId="",w.userId="")}}}),h=new c({el:"#app-query",data:{database:{uni:{majors:majorArray,majorAmount:xqdatabase.majorSum,props:xqdatabase.unilevel,scolars:xqdatabase.scolarship},inc:{IncScale:xqdatabase.incScale,IncProps:xqdatabase.incProps,posAmount:xqdatabase.positionsum,worksExp:xqdatabase.worksexp,pos1:[],pos2:[],area1:[],area2:[],salary:xqdatabase.salary,welfare:["五险一金","双休","餐补","交通补","带薪年假","节日聚餐"]},navcitys:[{province:"浙江省",city:"杭州",conts:["滨江区","淳安县","富阳市","拱墅区","江干区","建德市","临安市","上城区","桐庐县","西湖区","下城区","萧山区","余杭区","不限"]},{province:"上海市",city:"上海",conts:["宝山区","长宁区","奉贤区","虹口区","黄浦区","嘉定区","金山区","静安区","卢湾区","闵行区","南汇区","普陀区","浦东新区","青浦区","松江区","徐汇区","杨浦区","闸北区","不限"]},{province:"北京市",city:"北京",conts:["昌平区","朝阳区","崇文区","大兴区","东城区","房山区","丰台区","海淀区","怀柔区","门头沟区","平谷区","石景山区","顺义区","通州区","西城区","宣武区","不限"]},{province:"湖北省",city:"武汉",conts:["蔡甸区","东西湖区","汉阳区","汉南区","洪山区","黄陂区","江岸区","江汉区","江夏区","乔口区","青山区","武昌区","新洲区","不限"]},{province:"广东省",city:"广州",conts:["宝山区","长宁区","奉贤区","虹口区","黄浦区","嘉定区","金山区","静安区","卢湾区","闵行区","南汇区","普陀区","浦东新区","青浦区","松江区","徐汇区","杨浦区","闸北区","不限"]},{province:"广东省",city:"深圳",conts:["宝安区","福田区","龙岗区","罗湖区","南山区","盐田区","不限"]}],conts:["滨江区","淳安县","富阳市","拱墅区","江干区","建德市","临安市","上城区","桐庐县","西湖区","下城区","萧山区","余杭区","不限"]},keywords:"",uniQuery:{major:"",majorsum:"",majorEx:!1,address:"",incReq:{areas:{area_1:"",area_2:""},IncProps:"",IncScale:"",pos:{pos_1:"",pos_2:""},posAmount:""},publicTime:"",trainway:""},showPosBox:!1,showAreaBox:!1,showWelBox:!1},methods:{search:function(){o(1)},selCity:function(e,t){(0,u.default)(".address .on").removeClass("on"),(0,u.default)(".queryform .district .on").removeClass("on"),(0,u.default)(t).addClass("on"),this.database.conts=this.database.navcitys[e].conts},selDistrict:function(e){(0,u.default)(".queryform .district .on").removeClass("on"),(0,u.default)(e).addClass("on");for(var t="",s=0;s<this.database.navcitys.length;s++)if((0,u.default)(".address .on").text()==this.database.navcitys[s].city){t="北京"==(0,u.default)(".address .on").text()||"上海"==(0,u.default)(".address .on").text()?this.database.navcitys[s].province+";"+this.database.navcitys[s].city+"辖区":this.database.navcitys[s].province+";"+this.database.navcitys[s].city+"市";break}t+=";"+(0,u.default)(".queryform .district .on").text(),this.uniQuery.address=t,o(1)},selAllDistrict:function(){(0,u.default)(".queryform .district .on").removeClass("on"),this.uniQuery.address="",o(1)},selMajor:function(e,t){this.uniQuery.major=e+";"+t,o(1)},selPos:function(e,t){"uni"==t&&(this.uniQuery.incReq.pos.pos_2="不限"!=e?e:this.uniQuery.incReq.pos.pos_1),this.showPosBox=!1},selArea:function(e,t){"uni"==t&&(this.uniQuery.incReq.areas.area_2="不限"!=e?e:this.uniQuery.incReq.areas.area_1),this.showAreaBox=!1},clickPos:function(){this.showPosBox=!0,this.showAreaBox=!1,(0,u.default)(".selectee ul").hide()},clickArea:function(){this.showPosBox=!1,this.showAreaBox=!0,(0,u.default)(".selectee ul").hide()},checkEv:function(e){(0,u.default)(e).hasClass("on")?((0,u.default)(e).removeClass("on"),(0,u.default)(e).parent("li").removeClass("on")):((0,u.default)(e).addClass("on"),(0,u.default)(e).parent("li").addClass("on"))},submitWel:function(){var e="";(0,u.default)(".welfare-lis li").each(function(){(0,u.default)(this).hasClass("on")&&(e+=(0,u.default)(this).text()+",")}),this.posQuery.welfare=e,this.showWelBox=!1},homeLink:function(){var e=p.isLogin?"index.html?userId="+l.userId:"index.html";window.location.href=EventUtils.securityUrl(e)}},mounted:function(){this.database.inc.pos1=[],this.database.inc.area1=[];for(var e=0;e<f.length;e++)this.database.inc.pos1.push(f[e].name);this.database.inc.pos2=f[0].subpos;for(var t=0;t<workareas.length;t++)this.database.inc.area1.push(workareas[t].title);this.database.inc.area2=workareas[0].subareas},watch:{"uniQuery.incReq.areas.area_1":function(e){for(var t=0;t<workareas.length;t++)if(workareas[t].title==e){this.database.inc.area2=workareas[t].subareas;break}},"uniQuery.incReq.areas.area_2":function(e){""==this.uniQuery.incReq.areas.area_1&&(this.uniQuery.incReq.areas.area_1=workareas[0].title),o(1)},"uniQuery.incReq.IncProps":function(e){o(1)},"uniQuery.incReq.IncScale":function(e){o(1)},"uniQuery.incReq.pos.pos_1":function(e){for(var t=0;t<f.length;t++)if(f[t].name==e){this.database.inc.pos2=f[t].subpos;break}},"uniQuery.incReq.pos.pos_2":function(e){""==this.uniQuery.incReq.pos.pos_1&&(this.uniQuery.incReq.pos.pos_1=f[0].name),o(1)},"uniQuery.incReq.posAmount":function(e){o(1)},"uniQuery.majorsum":function(e){o(1)},"uniQuery.trainway":function(e){o(1)},"uniQuery.publicTime":function(e){o(1)},showPosBox:function(e){if(e){var t=(0,u.default)(".pos-input").offset().top-(0,u.default)(".queryform").offset().top+30;(0,u.default)(".pos-box").css("top",t)}},showAreaBox:function(e){if(e){var t=(0,u.default)(".area-input").offset().top-(0,u.default)(".queryform").offset().top+30;(0,u.default)(".area-box").css("top",t)}}}}),y=new c({el:"#app-result",data:{uniList:{totalpages:1,results:[]},accountId:"",resultType:0},methods:{infoExtrac:function(e){return EventUtils.infoExtrac(e)},infoShow:function(e,t){return EventUtils.infoShow(e,t)},demandLink:function(e){var t="detail-uni.html?demandId="+e+(this.accountId?"&userId="+this.accountId:"");return t=EventUtils.securityUrl(t)},coApply:function(e,t){if(p.isLogin){if("2"!=l.userType)return swal({title:"",text:"抱歉，您不能申请该需求！",type:"warning"}),!1;var s={userId:l.userId,loginIdentifier:l.loginIdentifier,demandId:e};EventUtils.ajaxReq("/demand/cooperateDemand","post",s,function(e,s){"0"==e.data.isApply?(t.applyStatus=1,m.showModal=!0,m.showLogin=!1,m.showSucc=!0):swal({title:"",text:e.info,type:"error"})})}else m.showModal=!0,m.showLogin=!0,m.showSucc=!1},showpage:function(e){return e<5?e:5},topage:function(e,t){o(e)}},components:{pagination:pagination}}),w=new c({el:"#app-footer",data:{userId:d.userId}}),m=new c({el:"#app-modal",data:{showModal:!1,showSucc:!1,showLogin:!1,login:{account:"",password:""}},methods:{securityUrl:function(e){return EventUtils.securityUrl(e)},confirmSuc:function(){this.showSucc=!1,this.showModal=!1},closeSuc:function(){this.showSucc=!1,this.showModal=!1},closeLog:function(){this.showLogin=!1,this.showModal=!1},loginEv:function(){var e={loginName:this.login.account,password:this.login.password};EventUtils.ajaxReq("/center/user/login","post",e,function(e,t){if(e.data){l=e.data;var s={demandType:1,index:1,count:8,userId:l.userId};EventUtils.ajaxReq("/demand/getList","get",s,function(e,t){e.data?(y.uniList.totalpages=e.data.totalPage,y.uniList.results=e.data.list,d.searchtext&&(h.keywords=decodeURI(d.searchtext),o(1))):(y.uniList.totalpages=1,y.uniList.results=[],d.searchtext&&(h.keywords=decodeURI(d.searchtext),o(1)))}),p.userName=e.data.name,p.userType=e.data.userType,p.isLogin=!0;var a={title:document.title,url:document.location.href,otherkey:null};history.replaceState(a,document.title,EventUtils.securityUrl("display-uni.html?userId="+e.data.userId)),m.showModal=!1,m.showLogin=!1}else swal({title:"",text:e.info,type:"error"})})}},watch:{showLogin:function(e){e&&this.$nextTick(function(){EventUtils.absCenter((0,u.default)(".dlg-login"))})},showSucc:function(e){e&&this.$nextTick(function(){EventUtils.absCenter((0,u.default)(".dlg-success"))})}}});!function(){a(),n(),i()}(),window.onunload=function(){p.$off(),h.$off(),y.$off(),w.$off(),m.$off()}}},[57]);