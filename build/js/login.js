webpackJsonp([16],{40:function(e,t){},64:function(e,t,i){"use strict";function o(){var e=EventUtils.getViewport().height-(0,r.default)(".top").outerHeight(!0)-(0,r.default)(".bot").outerHeight(!0);(0,r.default)(".banner").height(e),(0,r.default)(".banner-frame").width(EventUtils.getViewport().width),(0,r.default)(".banner-frame").height((0,r.default)("body").height())}function a(){(0,r.default)(".login .login-footer").click(function(){(0,r.default)(".login").fadeOut(),(0,r.default)(".regis").fadeIn("slow")}),(0,r.default)(".check-box").click(function(){(0,r.default)(this).toggleClass("selected")})}function s(){(0,r.default)(".logBox .log-nav li").click(function(){(0,r.default)(".logBox .log-nav .on").removeClass("on"),(0,r.default)(this).addClass("on")}),(0,r.default)(".regis .login-footer").click(function(){(0,r.default)(".regis").fadeOut(),(0,r.default)(".login").fadeIn("slow")})}var n=i(0),r=function(e){return e&&e.__esModule?e:{default:e}}(n);i(4),i(2);var l=i(1);i(3),i(5),i(40);var d=EventUtils.urlExtrac(window.location),c={mobile:/^1[34578]\d{9}$/,email:/^(\w)+(\.\w+)*@(\w)+((\.\w+)+)$/,password:/^[a-zA-Z0-9\W_]{6,16}$/,phone:/^0\d{2,3}-\d{7,8}(-\d{1,6})?$/},u=(new l({el:"#app-top",data:{displayCity:decodeURI(d.address)}}),new l({el:"#app-content",data:{register:{account:"",password:"",validcode:"",userType:0,isAccValid:!1,isRegis:!1,isPassValid:!1,unableCode:!1},login:{account:window.localStorage&&localStorage.loginName?localStorage.loginName:"",password:window.localStorage&&localStorage.password?localStorage.password:""},banner:{showindex:Math.floor(3*Math.random()),images:[{url:"http://os9bwedvi.bkt.clouddn.com/login-pic02.jpg",website:"https://www.xiaoqiztc.com"},{url:"http://os9bwedvi.bkt.clouddn.com/banner-lanlan.jpg",website:"http://www.xinchuang.sitekc.com/index.jsp"},{url:"http://os9bwedvi.bkt.clouddn.com/企业.jpg",website:"https://www.xiaoqiztc.com/easily_xq_WebApi/dreamcar/display-company.html?"},{url:"http://os9bwedvi.bkt.clouddn.com/高校.jpg",website:"https://www.xiaoqiztc.com/easily_xq_WebApi/dreamcar/display-uni.html?"},{url:"http://os9bwedvi.bkt.clouddn.com/个人.jpg",website:"https://www.xiaoqiztc.com/easily_xq_WebApi/dreamcar/display-position.html?"}]},show:{regis:"1"==d.newAcc},validText:"获取验证码"},methods:{checkAccount:function(){""!=this.register.account&&EventUtils.ajaxReq("/center/user/checkLoginName","post",{loginName:this.register.account},function(e,t){"1"==e.data.result?u.register.isRegis=!0:u.register.isRegis=!1})},showAgreement:function(){g.showModal=!0},accontType:function(e){return 0==e?"手机号":"邮箱"},toAdsWebsite:function(){var e=u.banner.images[u.banner.showindex].website;window.open(e,"_blank")},regisEv:function(){if(!(0,r.default)(".check-agreement .check-box").hasClass("selected"))return void swal({title:"",text:"请接受我们的服务条款",type:"warning"});var e={loginName:this.register.account,password:this.register.password,code:this.register.validcode,userType:this.register.userType},t=function(e,t){if(e.data){var i="userType="+u.register.userType+"&userId="+e.data.userId+"&loginId="+e.data.loginIdentifier+"&addr="+d.address;window.location.href="vCards.html?"+window.btoa(i)}else swal({title:"",text:e.info,type:"error"}),u.register.account="",u.register.password="",u.register.validcode=""};EventUtils.ajaxReq("/center/user/register","post",e,t)},loginEv:function(){if(""==this.login.account)return swal({title:"",text:"请输入用户名！",type:"warning"}),!1;if(!c.mobile.test(this.login.account)&&!c.email.test(this.login.account))return swal({title:"",text:"用户名格式错误!",type:"error"}),!1;if(""==this.login.password)return swal({title:"",text:"请输入密码！",type:"warning"}),!1;var e={loginName:this.login.account,password:this.login.password},t=function(e,t){if("10002"==e.code)return swal({title:"",text:e.info,type:"error"}),!1;if(localStorage&&((0,r.default)(".login .check-box").hasClass("selected")?(localStorage.loginName=u.login.account,localStorage.password=u.login.password,localStorage.userId=e.data.userId,localStorage.loginId=e.data.loginIdentifier):(localStorage.removeItem("loginName"),localStorage.removeItem("password"),localStorage.removeItem("userId"),localStorage.removeItem("loginId"))),"0"==e.data.cardStatus){var i="userType="+e.data.userType+"&userId="+e.data.userId+"&loginId="+e.data.loginIdentifier;window.location.href="vCards.html?"+window.btoa(i)}else{var o="userId="+e.data.userId+"&loginId="+e.data.loginIdentifier;switch(o=window.btoa(o),e.data.userType){case"0":window.location.href="pCenter.html?"+o;break;case"1":window.location.href="uniCenter.html?"+o;break;case"2":window.location.href="incCenter.html?"+o}}};EventUtils.ajaxReq("/center/user/login","post",e,t)},reqValidCode:function(e){this.register.unableCode=!0;var t,i,o=0,a=setInterval(function(){o++,60==o?(u.validText="获取验证码",u.register.unableCode=!1,clearInterval(a)):u.validText="重新获取 ("+(60-o)+"s)"},1e3);0==this.register.userType?(t={mobile:this.register.account,type:0},i="/sys/mobileCode?"):(t={email:this.register.account,type:0},i="/sys/emailCode?"),EventUtils.ajaxReq(i,"post",t,function(e,t){swal({title:"",text:e.info,type:"success"})})}},watch:{"register.account":function(e){0==this.register.userType?c.mobile.test(e)?this.register.isAccValid=!0:this.register.isAccValid=!1:c.email.test(e)?this.register.isAccValid=!0:this.register.isAccValid=!1},"register.password":function(e){c.password.test(e)?this.register.isPassValid=!0:this.register.isPassValid=!1}},computed:{validUnable:function(){return!this.register.isAccValid||!this.register.isPassValid},regisUnable:function(){return!this.register.isAccValid||!this.register.isPassValid||""==this.register.validcode}},mounted:function(){var e=Math.floor(5*Math.random());setInterval(function(){u.banner.showindex=e%5,e++},1e4),EventUtils.placeholderFill()}})),g=new l({el:"#app-modal",data:{showModal:!1},methods:{hideModal:function(){this.showModal=!1}},mounted:function(){(0,r.default)(".agreementBox").height(EventUtils.getViewport().height-100),EventUtils.absCenter((0,r.default)(".agreementBox"))}});new l({el:"#app-footer",data:{},methods:{securityUrl:function(e){return EventUtils.securityUrl(e)}}});!function(){a(),s(),o()}(),window.onunload=function(){(0,r.default)(".login .login-footer").click(null),(0,r.default)(".check-box").click(null),(0,r.default)(".logBox .log-nav li").click(null),(0,r.default)(".regis .login-footer").click(null),u.$off()}}},[64]);