webpackJsonp([16],{41:function(e,t){},65:function(e,t,i){"use strict";function a(){var e=EventUtils.getViewport().height-(0,n.default)(".top").outerHeight(!0)-(0,n.default)(".bot").outerHeight(!0);(0,n.default)(".banner").height(e),(0,n.default)(".banner-frame").width(EventUtils.getViewport().width),(0,n.default)(".banner-frame").height((0,n.default)("body").height())}function s(){(0,n.default)(".login .login-footer").click(function(){(0,n.default)(".login").fadeOut(),(0,n.default)(".regis").fadeIn("slow")}),(0,n.default)(".check-box").click(function(){(0,n.default)(this).toggleClass("selected")})}function o(){(0,n.default)(".logBox .log-nav li").click(function(){(0,n.default)(".logBox .log-nav .on").removeClass("on"),(0,n.default)(this).addClass("on")}),(0,n.default)(".regis .login-footer").click(function(){(0,n.default)(".regis").fadeOut(),(0,n.default)(".login").fadeIn("slow")})}var r=i(0),n=function(e){return e&&e.__esModule?e:{default:e}}(r);i(4),i(2);var l=i(1);i(3),i(5),i(41);var d=EventUtils.urlExtrac(window.location),c={mobile:/^1[34578]\d{9}$/,email:/^(\w)+(\.\w+)*@(\w)+((\.\w+)+)$/,password:/^[a-zA-Z0-9\W_]{6,16}$/,phone:/^0\d{2,3}-\d{7,8}(-\d{1,6})?$/},u=(new l({el:"#app-top",data:{displayCity:decodeURI(d.address)}}),new l({el:"#app-content",data:{register:{account:"",password:"",validcode:"",userType:0,isAccValid:!1,isRegis:!1,isPassValid:!1,unableCode:!1},login:{account:window.localStorage&&localStorage.loginName?localStorage.loginName:"",password:window.localStorage&&localStorage.password?localStorage.password:""},banner:{showindex:Math.floor(6*Math.random()),images:[{url:"http://os9bwedvi.bkt.clouddn.com/banner-car.jpg?imageslim",website:"https://www.xiaoqiztc.com/easily_xq_WebApi/dreamcar/advertisement.html"},{url:"http://os9bwedvi.bkt.clouddn.com/banner-qique.jpg?imageslim",website:"http://www.qiqueqiao.com"},{url:"http://os9bwedvi.bkt.clouddn.com/banner-lanlan.jpg?imageslim",website:"http://www.xinchuang.sitekc.com/index.jsp"},{url:"http://os9bwedvi.bkt.clouddn.com/企业.jpg?imageslim",website:"https://www.xiaoqiztc.com/easily_xq_WebApi/dreamcar/display-company.html?"},{url:"http://os9bwedvi.bkt.clouddn.com/高校.jpg?imageslim",website:"https://www.xiaoqiztc.com/easily_xq_WebApi/dreamcar/display-uni.html?"},{url:"http://os9bwedvi.bkt.clouddn.com/个人.jpg?imageslim",website:"https://www.xiaoqiztc.com/easily_xq_WebApi/dreamcar/display-position.html?"}]},show:{regis:"1"==d.newAcc},validText:"获取验证码"},methods:{swipeBanner:function(e){this.banner.showindex=e},checkAccount:function(){if(""!=this.register.account){if(0==this.register.userType&&!variableUtils.regExp.mobile.test(this.register.account))return(0,n.default)("#account-valid-hint").html("手机格式不正确！").show(),!1;if(0!=this.register.userType&&!variableUtils.regExp.email.test(this.register.account))return(0,n.default)("#account-valid-hint").html("邮箱格式不正确！").show(),!1;(0,n.default)("#account-valid-hint").hide(),EventUtils.ajaxReq("/center/user/checkLoginName","post",{loginName:this.register.account},function(e,t){"1"==e.data.result?u.register.isRegis=!0:u.register.isRegis=!1})}else u.register.isRegis=!1,(0,n.default)("#account-valid-hint").hide()},checkPassword:function(){""==this.register.password||variableUtils.regExp.password.test(this.register.password)?(0,n.default)("#password-valid-hint").hide():(0,n.default)("#password-valid-hint").show()},showAgreement:function(){g.showModal=!0},accontType:function(e){return 0==e?"手机号":"邮箱"},toAdsWebsite:function(){var e=u.banner.images[u.banner.showindex].website;window.open(e,"_blank")},regisEv:function(){if(!(0,n.default)(".check-agreement .check-box").hasClass("selected"))return void swal({title:"",text:"请接受我们的服务条款",type:"warning"});var e={loginName:this.register.account,password:this.register.password,code:this.register.validcode,userType:this.register.userType},t=function(e,t){if(e.data){var i="userType="+u.register.userType+"&userId="+e.data.userId+"&loginId="+e.data.loginIdentifier+"&addr="+d.address;window.location.href="vCards.html?"+window.btoa(i)}else swal({title:"",text:e.info,type:"error"}),u.register.account="",u.register.password="",u.register.validcode=""};EventUtils.ajaxReq("/center/user/register","post",e,t)},loginEv:function(){if(""==this.login.account)return swal({title:"",text:"请输入用户名！",type:"warning"}),!1;if(!c.mobile.test(this.login.account)&&!c.email.test(this.login.account))return swal({title:"",text:"用户名格式错误!",type:"error"}),!1;if(""==this.login.password)return swal({title:"",text:"请输入密码！",type:"warning"}),!1;var e={loginName:this.login.account,password:this.login.password},t=function(e,t){if("10002"==e.code)return swal({title:"",text:e.info,type:"error"}),!1;if(localStorage&&((0,n.default)(".login .check-box").hasClass("selected")?(localStorage.loginName=u.login.account,localStorage.password=u.login.password,localStorage.userId=e.data.userId,localStorage.loginId=e.data.loginIdentifier):(localStorage.removeItem("loginName"),localStorage.removeItem("password"),localStorage.removeItem("userId"),localStorage.removeItem("loginId"))),"0"==e.data.cardStatus){var i="userType="+e.data.userType+"&userId="+e.data.userId+"&loginId="+e.data.loginIdentifier;window.location.href="vCards.html?"+window.btoa(i)}else{var a="userId="+e.data.userId+"&loginId="+e.data.loginIdentifier;switch(a=window.btoa(a),e.data.userType){case"0":window.location.href="pCenter.html?"+a;break;case"1":window.location.href="uniCenter.html?"+a;break;case"2":window.location.href="incCenter.html?"+a}}};EventUtils.ajaxReq("/center/user/login","post",e,t)},reqValidCode:function(e){this.register.unableCode=!0;var t,i,a=0,s=setInterval(function(){a++,60==a?(u.validText="获取验证码",u.register.unableCode=!1,clearInterval(s)):u.validText="重新获取 ("+(60-a)+"s)"},1e3);0==this.register.userType?(t={mobile:this.register.account,type:0},i="/sys/mobileCode?"):(t={email:this.register.account,type:0},i="/sys/emailCode?"),EventUtils.ajaxReq(i,"post",t,function(e,t){swal({title:"",text:e.info,type:"success"})})}},watch:{"register.account":function(e){0==this.register.userType?c.mobile.test(e)?this.register.isAccValid=!0:this.register.isAccValid=!1:c.email.test(e)?this.register.isAccValid=!0:this.register.isAccValid=!1},"register.password":function(e){c.password.test(e)?this.register.isPassValid=!0:this.register.isPassValid=!1}},computed:{validUnable:function(){return!this.register.isAccValid||!this.register.isPassValid},regisUnable:function(){return!this.register.isAccValid||!this.register.isPassValid||""==this.register.validcode}},mounted:function(){var e=this.banner.showindex;(0,n.default)(".banner-frame-image")[e].src=(0,n.default)(".banner-frame-image")[e].getAttribute("data-src"),(0,n.default)(".banner-frame-image")[e].onload=function(){(0,n.default)(".banner-frame-image").each(function(){this.src=(0,n.default)(this).attr("data-src")})},setInterval(function(){u.banner.showindex==u.banner.images.length-1?u.banner.showindex=0:u.banner.showindex++},1e4),EventUtils.placeholderFill()}})),g=new l({el:"#app-modal",data:{showModal:!1},methods:{hideModal:function(){this.showModal=!1}},mounted:function(){(0,n.default)(".agreementBox").height(EventUtils.getViewport().height-100),EventUtils.absCenter((0,n.default)(".agreementBox"))}});new l({el:"#app-footer",data:{},methods:{securityUrl:function(e){return EventUtils.securityUrl(e)}}});!function(){s(),o(),a()}(),window.onunload=function(){(0,n.default)(".login .login-footer").click(null),(0,n.default)(".check-box").click(null),(0,n.default)(".logBox .log-nav li").click(null),(0,n.default)(".regis .login-footer").click(null),u.$off()}}},[65]);